/*! For license information please see script.js.LICENSE.txt */
var Gamitee;(()=>{var e,t,n,r,o={98:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(5240),o=n(6210),i=n(8779),a=n(9813);function s(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}let c;function u(){return c||(c=function(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=s(n);return(e,n)=>r.then((r=>n(r.transaction(t,e).objectStore(t))))}("keyval-store","keyval")),c}function d(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},s(e.transaction)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return window.location.hostname.endsWith(e.domain)}const p={primaryStore:"localStorage",cookies:[],backupStores:[],saveOnLeave:!1},m={localStorage:class{async getAll(){const e={};return Object.values(a).forEach((t=>{const n=localStorage.getItem(t);n&&(e[t]=n)})),Promise.resolve(e)}async setAll(e){Object.entries(e).forEach((([e,t])=>{localStorage.setItem(e,t)}))}async removeAll(){Object.values(a).forEach((e=>{localStorage.removeItem(e)}))}async getItem(e){return localStorage.getItem(e)}async setItem(e,t){localStorage.setItem(e,t)}async removeItem(e){localStorage.removeItem(e)}},indexedDb:class{async getAll(){const e=await function(e=u()){return e("readonly",(t=>{if(t.getAll&&t.getAllKeys)return Promise.all([s(t.getAllKeys()),s(t.getAll())]).then((([e,t])=>e.map(((e,n)=>[e,t[n]]))));const n=[];return e("readonly",(e=>d(e,(e=>n.push([e.key,e.value]))).then((()=>n))))}))}();return Object.fromEntries(e)}async setAll(e){await function(e,t=u()){return t("readwrite",(t=>(e.forEach((e=>t.put(e[1],e[0]))),s(t.transaction))))}(Object.entries(e))}async removeAll(){!function(e=u()){e("readwrite",(e=>(e.clear(),s(e.transaction))))}()}async setItem(e,t){await function(e,t,n=u()){return n("readwrite",(n=>(n.put(t,e),s(n.transaction))))}(e,t)}async removeItem(e){!function(e,t=u()){t("readwrite",(t=>(t.delete(e),s(t.transaction))))}(e)}}};const h=new class{constructor(){l(this,"_data",{}),this._logErrorSubject=new r.m,this.logErrors$=this._logErrorSubject.asObservable(),this._backupStores=[]}get allStores(){return[this._primaryStore,...this._backupStores]}getItem(e){return this._data[e]??null}async setItem(e,t){const n="string"==typeof t?t:JSON.stringify(t);if(this._data[e]=n,!this.initialized)return;const r=(await Promise.allSettled(this.allStores.map((t=>t.setItem(e,n))))).filter((e=>"rejected"===e.status));r.length>0&&this._logErrorSubject.next({logLevel:o.cm.ERROR,message:"Cannot set in storage",extra:{key:e,errorMessages:r.map((e=>e.reason))},tag:"storage"})}async removeItem(e){delete this._data[e];const t=(await Promise.allSettled(this.allStores.map((t=>t.removeItem(e))))).filter((e=>"rejected"===e.status));t.length>0&&this._logErrorSubject.next({logLevel:o.cm.ERROR,message:"Cannot remove from storage",extra:{key:e,errorMessages:t.map((e=>e.reason))},tag:"storage"})}async init(e){const t={...p,...e},n=t.cookies.find(f);if(n&&n?.enabled){const e=new i.l1("joyned-data",`.${n.domain}`,n.ttl);this._primaryStore=e}else this._primaryStore=new m[t.primaryStore],this._backupStores=t.backupStores.map((e=>new m[e]));await this._loadInitialData(),this.allStores.forEach((e=>e.setAll(this._data))),this.initialized=!0,t.saveOnLeave&&this._saveOnLeave()}async _loadInitialData(){const e=await Promise.all(this.allStores.reverse().map((e=>e.getAll())));for(let t=0;t<e.length;t++){const n=e[t];this._data={...this._data,...n}}}_saveOnLeave(){document.addEventListener("visibilitychange",(()=>{"visible"!==document.visibilityState&&this.allStores.forEach((e=>e.setAll(this._data)))}))}clearStorage(e){e?this.removeItem(e):(this.allStores.forEach((e=>e?.removeAll())),this._data={})}};window.clearJoynedStorage=h.clearStorage.bind(h)},122:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(98),o=n(9813);var i=n(3845),a=n(6763);function s(){const e=window.location,t=window.history,n=new URL(e.href),s=n.searchParams.get(a.jQ.SESSION_ID);n.searchParams.delete(a.jQ.SESSION_ID);const c=n.searchParams.get(a.jQ.REDIRECT_REF);n.searchParams.delete(a.jQ.REDIRECT_REF),t.replaceState(null,"",n),i.vF.debug(`Removed ${a.jQ.SESSION_ID} from url params and replaced history, session id was: ${s}.`,void 0,"session_init"),c&&i.vF.debug(`Removed ${a.jQ.REDIRECT_REF} from url params and replaced history, redirect ref was: ${c}.`,void 0,"session_init");const u=r.Z.getItem(o.SESSION_ID_KEY);r.Z.removeItem(o.SESSION_ID_KEY),i.vF.debug(`Removed ${o.SESSION_ID_KEY} from storage, session ID was: ${u}.`,void 0,"session_init")}},198:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(7785),o=n(8656);function i(e){return(0,o.T)(e[r.s])}},827:(e,t,n)=>{"use strict";n.d(t,{Cu:()=>o,NX:()=>a,Pk:()=>i});var r=n(2410);const o={ALL:"filter-text-all",TOP_VOTED:"filter-text-top-voted"},i={...o,ACTIVE:"filter-text-active",ITEMS_ONLY:"filter-text-items-only",BY_ME:"filter-text-by-me",POSTS_ONLY:"filter-text-posts-only"},a={[o.TOP_VOTED]:()=>r.A`
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.999 14.665a6.667 6.667 0 1 0 0-13.333 6.667 6.667 0 0 0 0 13.333Zm-3.81-9.067c0-.314.359-.493.61-.305l1.608 1.206a.381.381 0 0 0 .545-.094l.73-1.094a.381.381 0 0 1 .634 0l.73 1.094a.38.38 0 0 0 .545.094l1.608-1.206a.38.38 0 0 1 .61.305l-.572 4.571a.38.38 0 0 1-.381.381H5.142a.38.38 0 0 1-.381-.38l-.572-4.572Z" fill="#000"/></svg>
  `}},1040:(e,t,n)=>{"use strict";n.d(t,{Kn:()=>c,yU:()=>s,Uv:()=>u});var r=n(1635),o=n(8656),i=(0,n(4874).L)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})),a=n(5541),s=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,a,s;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var u=(0,r.Ju)(c),l=u.next();!l.done;l=u.next()){l.value.remove(this)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else c.remove(this);var f=this.initialTeardown;if((0,o.T)(f))try{f()}catch(e){s=e instanceof i?e.errors:[e]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var m=(0,r.Ju)(p),h=m.next();!h.done;h=m.next()){var g=h.value;try{d(g)}catch(e){s=null!=s?s:[],e instanceof i?s=(0,r.fX)((0,r.fX)([],(0,r.zs)(s)),(0,r.zs)(e.errors)):s.push(e)}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}}if(s)throw new i(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)d(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,a.o)(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&(0,a.o)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),c=s.EMPTY;function u(e){return e instanceof s||e&&"closed"in e&&(0,o.T)(e.remove)&&(0,o.T)(e.add)&&(0,o.T)(e.unsubscribe)}function d(e){(0,o.T)(e)?e():e.unsubscribe()}},1090:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(1220),o=n(5859),i=n(2717),a=n(8955),s=n(2052),c=n(6296),u=n(3845),d=n(8198);function l(e,t){const{source:n,tag:l,retries:f,backoff:p,shouldStopRetrying:m}=t;return(0,s.s)(function(e,t){const{source:n,tag:s,retries:c,backoff:l}=t;return new r.c((r=>{let f=0;(0,o.v)((()=>Promise.resolve().then((()=>{try{return e()}catch(e){if(t.shouldStopRetrying&&t.shouldStopRetrying(e))return e;throw e}})))).pipe((0,i.L)({count:c,delay:(e,t)=>(f++,(0,a.O)(l*t*t))})).subscribe({next:e=>{if(e instanceof Error)return u.vF.info(`Retry was cancelled by predicate in: ${n}`,{error:e},s),void r.error(e);f>0&&u.vF.warning(`Retriable successfully recovered: ${n}`,{count:f,retries:c,backoff:l},s),r.next(e)},error:e=>{r.error(new d.A(`Failed in retriable: ${n}`,{innerError:e},s))}})}))}(e,{source:n,tag:l,retries:f,backoff:p,shouldStopRetrying:m}).pipe((0,c.s)(1)))}},1220:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});var r=n(2186),o=n(1040),i=n(7785),a=n(7656),s=n(6455),c=n(8656),u=n(9265),d=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,a=this,s=(i=e)&&i instanceof r.vU||function(e){return e&&(0,c.T)(e.next)&&(0,c.T)(e.error)&&(0,c.T)(e.complete)}(i)&&(0,o.Uv)(i)?e:new r.Ms(e,t,n);return(0,u.Y)((function(){var e=a,t=e.operator,n=e.source;s.add(t?t.call(s,n):n?a._subscribe(s):a._trySubscribe(s))})),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=l(t))((function(t,o){var i=new r.Ms({next:function(t){try{e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.s]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.m)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=l(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function l(e){var t;return null!==(t=null!=e?e:s.$.Promise)&&void 0!==t?t:Promise}},1273:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(1635);function o(e,t,n,r,o){return new i(e,t,n,r,o)}var i=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,r.C6)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(2186).vU)},1635:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>p,C6:()=>o,Cl:()=>i,Ju:()=>u,N3:()=>f,Tt:()=>a,YH:()=>c,fX:()=>l,sH:()=>s,xN:()=>m,zs:()=>d});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function f(e){return this instanceof f?(this.v=e,this):new f(e)}function p(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof f?Promise.resolve(n.value.v).then(c,u):d(i[0][2],n)}catch(e){d(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"==typeof SuppressedError&&SuppressedError},1668:(e,t,n)=>{"use strict";function r(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}n.d(t,{N:()=>r})},1754:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{D:()=>r})},1813:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CdnScriptLoaded=function(){return{name:"cdn > script > loaded",code:10000001,extra:{}}},t.ExperimentReportVariation=function(){return{name:"experiment > report-variation",code:1002e4,extra:{}}},t.ButtonImpression=function(e){return{name:"button > impression",code:11000100,extra:{seen:e.seen,buttonName:e.buttonName,viewportResolution:e.viewportResolution}}},t.ButtonClick=function(e){return{name:"button > click",code:11000200,extra:{buttonName:e.buttonName}}},t.AppWindowSessionLoaded=function(){return{name:"app-window > session-loaded",code:12000100,extra:{}}},t.AppWindowMinimizeClick=function(e){return{name:"app-window > minimize > click",code:12010100,extra:{minimizeType:e.minimizeType}}},t.AppWindowHideClick=function(){return{name:"app-window > hide > click",code:12010200,extra:{}}},t.AppWindowTabsClickedMainTab=function(){return{name:"app-window > tabs > clicked > main-tab",code:12020101,extra:{}}},t.AppWindowTabsClickedSettingsTab=function(){return{name:"app-window > tabs > clicked > settings-tab",code:12020102,extra:{}}},t.AppWindowTabsClickedTrendingTab=function(e){return{name:"app-window > tabs > clicked > trending-tab",code:12020104,extra:{userType:e.userType,sourcesDisplayed:e.sourcesDisplayed,itemsIds:e.itemsIds}}},t.AppWindowChatBarInputClicked=function(){return{name:"app-window > chat-bar > input-clicked",code:12030100,extra:{}}},t.AppWindowChatBarSendClicked=function(e){return{name:"app-window > chat-bar > send-clicked",code:12030101,extra:{referencedPostIndex:e.referencedPostIndex,message:e.message}}},t.AppWindowEmptyListCtaClicked=function(){return{name:"app-window > empty-list-cta-clicked",code:12030200,extra:{}}},t.AppWindowActionButtonClicked=function(e){return{name:"app-window > action-button-clicked",code:12030300,extra:{buttonType:e.buttonType}}},t.MinimizedViewMaximizeClicked=function(){return{name:"minimized-view > maximize > clicked",code:13010100,extra:{}}},t.MinimizedViewInviteButtonClicked=function(){return{name:"minimized-view > invite-button > clicked",code:13010200,extra:{}}},t.MinimizedViewHideClicked=function(){return{name:"minimized-view > hide > clicked",code:13010300,extra:{}}},t.OfferingCardCardClicked=function(){return{name:"offering-card > card > clicked",code:14010100,extra:{}}},t.OfferingCardMenuClickedToggle=function(e){return{name:"offering-card > menu > clicked > toggle",code:1402e4,extra:{toggleMode:e.toggleMode}}},t.OfferingCardMenuClickedMoreInfo=function(){return{name:"offering-card > menu > clicked-more-info",code:14020100,extra:{}}},t.OfferingCardMenuClickedRemove=function(){return{name:"offering-card > menu > clicked-remove",code:14020200,extra:{}}},t.OfferingCardCtaClicked=function(e){return{name:"offering-card > cta > clicked",code:14040100,extra:{ctaType:e.ctaType}}},t.OfferingCardPayTogetherClicked=function(){return{name:"offering-card > pay-together > clicked",code:14040200,extra:{}}},t.OfferingCardCommentsClicked=function(){return{name:"offering-card > comments > clicked",code:14050100,extra:{}}},t.OfferingCardCommentsUnreadNotificationDisplayed=function(e){return{name:"offering-card > comments > unread-notification > displayed",code:14050200,extra:{unreadCommentsCount:e.unreadCommentsCount}}},t.OfferingCardCommentsSendClicked=function(){return{name:"offering-card > comments > send-clicked",code:14050101,extra:{}}},t.OfferingCardCommentsReturnClicked=function(){return{name:"offering-card > comments > return-clicked",code:14050102,extra:{}}},t.OfferingCardVoteToggleOpen=function(){return{name:"offering-card > vote > toggle-open",code:1406e4,extra:{}}},t.OfferingCardVoteToggleClose=function(){return{name:"offering-card > vote > toggle-close",code:14060001,extra:{}}},t.OfferingCardVotePopupUpVoteClicked=function(){return{name:"offering-card > vote-popup > up-vote > clicked",code:14060100,extra:{}}},t.OfferingCardVotePopupDownVoteClicked=function(){return{name:"offering-card > vote-popup > down-vote > clicked",code:14060101,extra:{}}},t.OfferingCardVotePopupUpVoteRemoved=function(){return{name:"offering-card > vote-popup > up-vote > removed",code:14060102,extra:{}}},t.OfferingCardVotePopupDownVoteRemoved=function(){return{name:"offering-card > vote-popup > down-vote > removed",code:14060103,extra:{}}},t.OfferingFailedFailureSeen=function(e){return{name:"offering-failed > failure-seen",code:1407e4,extra:{hasTrending:e.hasTrending,details:e.details}}},t.OfferingFailedTrendingClicked=function(e){return{name:"offering-failed > trending-clicked",code:14070001,extra:{userType:e.userType,sourcesDisplayed:e.sourcesDisplayed,itemsIds:e.itemsIds}}},t.OfferingCardCommunityStatsImpression=function(e){return{name:"offering-card > community-stats > impression",code:1408e4,extra:{statsType:e.statsType,productId:e.productId,statsValue:e.statsValue}}},t.OfferingCardCommunityStatsClicked=function(e){return{name:"offering-card > community-stats > clicked",code:14080001,extra:{statsType:e.statsType,productId:e.productId}}},t.FriendsBarAddAFriendClicked=function(e){return{name:"friends-bar > add-a-friend > clicked",code:15010100,extra:{buttonSource:e.buttonSource}}},t.FriendsBarMembersListButtonClicked=function(){return{name:"friends-bar > members-list-button > clicked",code:15010200,extra:{}}},t.InviteTabImpression=function(e){return{name:"invite-tab > impression",code:16010001,extra:{screenType:e.screenType,isFallback:e.isFallback}}},t.InviteTabInviteClicked=function(e){return{name:"invite-tab > invite > clicked",code:16010100,extra:{inviteType:e.inviteType,isFallback:e.isFallback}}},t.InviteTabCustomShareTextClicked=function(){return{name:"invite-tab > custom-share-text > clicked",code:16010300,extra:{}}},t.InviteTabCustomShareTextSubmitClicked=function(e){return{name:"invite-tab > custom-share-text > submit > clicked",code:16010301,extra:{text:e.text}}},t.InviteTabCustomShareTextCancelClicked=function(){return{name:"invite-tab > custom-share-text > cancel > clicked",code:16010302,extra:{}}},t.InviteTabCustomShareTextBackToDefaultClicked=function(){return{name:"invite-tab > custom-share-text > back-to-default > clicked",code:16010303,extra:{}}},t.WhatsappBotRegisterButtonClicked=function(){return{name:"whatsapp-bot > register button > clicked",code:16020400,extra:{}}},t.InviteBarShareServiceClicked=function(e){return{name:"invite-bar > share-service > clicked",code:16030100,extra:{serviceName:e.serviceName}}},t.SettingsTabCloseDeleteListClicked=function(){return{name:"settings-tab > close-delete-list > clicked",code:18030100,extra:{}}},t.SettingsTabFeedbackClicked=function(){return{name:"settings-tab > feedback > clicked",code:18040100,extra:{}}},t.SettingTabLoginClicked=function(){return{name:"setting tab > login > clicked",code:18060100,extra:{}}},t.SettingTabLogoutClicked=function(){return{name:"setting tab > logout > clicked",code:18060200,extra:{}}},t.SettingsTabEditProfileClicked=function(){return{name:"settings-tab > edit profile > clicked",code:1807e4,extra:{}}},t.SettingsTabNotificationSettingsClicked=function(){return{name:"settings-tab > notification-settings > clicked",code:1808e4,extra:{}}},t.SettingsTabWhatsappBannerClicked=function(){return{name:"settings-tab > whatsapp-banner > clicked",code:18080100,extra:{}}},t.NicknameModalChangeClicked=function(){return{name:"nickname-modal > change > clicked",code:19010100,extra:{}}},t.NicknameModalCloseClicked=function(){return{name:"nickname-modal > close > clicked",code:19020100,extra:{}}},t.HideUiModalConfirmClicked=function(){return{name:"hide-UI-modal > confirm > clicked",code:19030100,extra:{}}},t.HideUiModalCancelClicked=function(){return{name:"hide-UI-modal > cancel > clicked",code:19030200,extra:{}}},t.CloseDeleteListModalCloseClicked=function(){return{name:"close-delete-list-modal > close > clicked",code:19040100,extra:{}}},t.CloseDeleteListModalCancelClicked=function(){return{name:"close-delete-list-modal > cancel > clicked",code:19040200,extra:{}}},t.FeedbackModalSendClicked=function(e){return{name:"feedback-modal > send > clicked",code:19050100,extra:{feedbackText:e.feedbackText,emailAddress:e.emailAddress}}},t.RenameListModalChangeClicked=function(e){return{name:"rename-list-modal > change > clicked",code:19060100,extra:{sessionId:e.sessionId,subscriptionType:e.subscriptionType}}},t.RenameListModalCloseClicked=function(e){return{name:"rename-list-modal > close > clicked",code:19060200,extra:{sessionId:e.sessionId,subscriptionType:e.subscriptionType}}},t.PayTogetherModalLetsGoClicked=function(){return{name:"pay-together-modal > lets-go > clicked",code:19070100,extra:{}}},t.PayTogetherModalRegisterEmailClicked=function(e){return{name:"pay-together-modal > register-email > clicked",code:19070101,extra:{emailAddress:e.emailAddress}}},t.PayTogetherModalCloseClicked=function(e){return{name:"pay-together-modal > close > clicked",code:19070200,extra:{screen:e.screen}}},t.PromptSeen=function(e){return{name:"prompt > seen",code:20000100,extra:{promptName:e.promptName}}},t.PromptCtaClicked=function(e){return{name:"prompt > cta > clicked",code:20010100,extra:{promptName:e.promptName,promptButton:e.promptButton}}},t.PromptCloseClicked=function(e){return{name:"prompt > close > clicked",code:20020100,extra:{promptName:e.promptName}}},t.TooltipSeen=function(){return{name:"tooltip > seen",code:22000100,extra:{}}},t.TooltipClosed=function(){return{name:"tooltip > closed",code:22000200,extra:{}}},t.AddToTripCtaImpression=function(){return{name:"add-to-trip > cta > impression",code:2201e4,extra:{}}},t.AddToTripCtaDisappeared=function(){return{name:"add-to-trip > cta > disappeared",code:22010001,extra:{}}},t.AddMoreItemCtaClicked=function(){return{name:"add-more-item > cta > clicked",code:22010100,extra:{}}},t.AddMoreItemTooltipClosed=function(){return{name:"add-more-item > tooltip > closed",code:22010101,extra:{}}},t.ContextualTooltipSeen=function(e){return{name:"contextual-tooltip > seen",code:22010200,extra:{tooltipName:e.tooltipName}}},t.ContextualTooltipClicked=function(e){return{name:"contextual-tooltip > clicked",code:22010201,extra:{tooltipName:e.tooltipName}}},t.ContextualTooltipClosed=function(e){return{name:"contextual-tooltip > closed",code:22010202,extra:{tooltipName:e.tooltipName}}},t.OverlayTutorialLoaded=function(){return{name:"overlay-tutorial > loaded",code:25e6,extra:{}}},t.OverlayTutorialSkipClicked=function(){return{name:"overlay-tutorial > skip-clicked",code:2501e4,extra:{}}},t.OverlayTutorialLetsGoClicked=function(){return{name:"overlay-tutorial > lets-go-clicked",code:25010100,extra:{}}},t.OverlayTutorialSkipWelcomeLoaderClicked=function(e){return{name:"overlay-tutorial > skip-welcome-loader-clicked",code:25010200,extra:{userType:e.userType}}},t.MyGroupsCreateNewClicked=function(){return{name:"my-groups > create-new-clicked",code:26010100,extra:{}}},t.MyGroupsToggleClosed=function(){return{name:"my-groups > toggle > closed",code:26010200,extra:{}}},t.MyGroupsToggleOpen=function(){return{name:"my-groups > toggle > open",code:26010201,extra:{}}},t.MyGroupsGroupCardClicked=function(e){return{name:"my-groups > group-card > clicked",code:26040100,extra:{sessionId:e.sessionId,subscriptionType:e.subscriptionType}}},t.MyGroupsGroupCardMenuExitListClicked=function(e){return{name:"my-groups > group-card > menu > exit-list-clicked",code:26040201,extra:{sessionId:e.sessionId,subscriptionType:e.subscriptionType}}},t.MyGroupsGroupCardMenuRenameListClicked=function(e){return{name:"my-groups > group-card > menu > rename-list-clicked",code:26040202,extra:{sessionId:e.sessionId,subscriptionType:e.subscriptionType}}},t.PostTextMenuClickedToggle=function(e){return{name:"post-text > menu > clicked-toggle",code:27010100,extra:{toggleMode:e.toggleMode}}},t.PostTextMenuEditClicked=function(){return{name:"post-text > menu > edit-clicked",code:27010101,extra:{}}},t.PostTextMenuDeleteClicked=function(){return{name:"post-text > menu > delete-clicked",code:27010102,extra:{}}},t.PostTextCommentClicked=function(){return{name:"post-text > comment > clicked",code:27010200,extra:{}}},t.PostTextCommentInviteTabOpened=function(){return{name:"post-text > comment > invite-tab-opened",code:27010210,extra:{}}},t.PostTextPostCommentsSendClicked=function(){return{name:"post-text > post-comments > send-clicked",code:27010201,extra:{}}},t.PostsTextPostCommentsReturnClicked=function(){return{name:"posts-text > post-comments > return-clicked",code:27010202,extra:{}}},t.PostsTextPostCommentsPlaceholderInviteClicked=function(){return{name:"posts-text > post-comments > placeholder-invite-clicked",code:27010203,extra:{}}},t.PostsTextPostCommentsHeaderInviteClicked=function(){return{name:"posts-text > post-comments > header-invite-clicked",code:27010204,extra:{}}},t.PostsTextComposePostSubmitClicked=function(){return{name:"posts-text > compose-post > submit-clicked",code:27010300,extra:{}}},t.PostsTextComposePostCancelClicked=function(){return{name:"posts-text > compose-post > cancel-clicked",code:27010301,extra:{}}},t.PostsTextEditPostSaveClicked=function(){return{name:"posts-text > edit-post > save-clicked",code:27010400,extra:{}}},t.PostsTabEditPostCancelClicked=function(){return{name:"posts-tab > edit-post > cancel-clicked",code:27010401,extra:{}}},t.LoginTabLoginButtonClickSuccess=function(e){return{name:"login tab > login button click - success",code:28010100,extra:{authLinkType:e.authLinkType}}},t.LoginTabView=function(e){return{name:"login tab > view",code:28010101,extra:{authLinkType:e.authLinkType}}},t.LoginTabLoginButtonClickFailed=function(e){return{name:"login tab > login button click - failed",code:28010102,extra:{authLinkType:e.authLinkType}}},t.AuthLinkSentTabReturnClicked=function(e){return{name:"auth link sent tab > return clicked",code:28010200,extra:{authLinkType:e.authLinkType}}},t.NotificationsBarImpression=function(e){return{name:"notifications-bar > impression",code:29000100,extra:{notifications:e.notifications}}},t.NotificationsBarClose=function(e){return{name:"notifications-bar > close",code:29000101,extra:{notification:e.notification}}},t.NotificationsBarClicked=function(e){return{name:"notifications-bar > clicked",code:29000102,extra:{notification:e.notification}}},t.TrendingTabCardClicked=function(e){return{name:"trending tab > card clicked",code:3001e4,extra:{userType:e.userType,cardSource:e.cardSource,cardTitle:e.cardTitle,cardUrl:e.cardUrl,cardId:e.cardId}}},t.EditProfileInputFieldPopulated=function(e){return{name:"edit-profile > input-field > populated",code:3101e4,extra:{elementName:e.elementName,elementValue:e.elementValue}}},t.EditProfileInterestElementToggleClicked=function(e){return{name:"edit-profile > interest-element > toggle-clicked",code:31010100,extra:{interestName:e.interestName,interestValue:e.interestValue}}},t.EditProfileSubmitButtonClicked=function(e){return{name:"edit-profile > submit-button > clicked",code:31010200,extra:{validationResult:e.validationResult}}},t.AiAssistantMessageDisplayed=function(e){return{name:"ai-assistant > message-displayed",code:3201e4,extra:{messageType:e.messageType,options:e.options}}},t.AiAssistantInviteButtonClicked=function(){return{name:"ai-assistant > invite-button > clicked",code:32010100,extra:{}}},t.AiAssistantReadMoreButtonClicked=function(e){return{name:"ai-assistant > read-more-button > clicked",code:32010101,extra:{messageContent:e.messageContent}}},t.AiAssistantXButtonClicked=function(e){return{name:"ai-assistant > x-button > clicked",code:32010102,extra:{messageContent:e.messageContent}}},t.AiAssistantTooltipTooltipToggle=function(e){return{name:"ai-assistant > tooltip > tooltip-toggle",code:32010200,extra:{toggleMode:e.toggleMode,tooltipLocation:e.tooltipLocation}}},t.AiAssistantTooltipAiOnOffToggle=function(e){return{name:"ai-assistant > tooltip > ai-on-off-toggle",code:32010201,extra:{toggleMode:e.toggleMode}}},t.AiAssistantMessageBoxOptionClicked=function(e){return{name:"ai-assistant > message-box > option-clicked",code:32010300,extra:{optionName:e.optionName,optionValue:e.optionValue}}},t.AiAssistantMessageBoxLetsGoClicked=function(e){return{name:"ai-assistant > message-box > lets-go-clicked",code:32010301,extra:{options:e.options}}},t.NotificationSettingsConnectWhatsappClicked=function(){return{name:"notification-settings > connect-whatsapp > clicked",code:33000100,extra:{}}},t.NotificationSettingsWhatsappNotificationsToggled=function(e){return{name:"notification-settings > whatsapp-notifications > toggled",code:33000200,extra:{toggleValue:e.toggleValue}}},t.NotificationSettingsWhatsappNotificationsToggledFailed=function(){return{name:"notification-settings > whatsapp-notifications > toggled > failed",code:33000201,extra:{}}},t.SocialProofToastDisplayed=function(e){return{name:"social-proof > toast-displayed",code:34e6,extra:{toastContent:e.toastContent,toastAction:e.toastAction,toastIndex:e.toastIndex}}},t.SocialProofToastClicked=function(e){return{name:"social-proof > toast-clicked",code:34000001,extra:{toastContent:e.toastContent,toastAction:e.toastAction,toastIndex:e.toastIndex}}},t.FloatingMenuButtonToggle=function(e){return{name:"floating-menu-button > toggle",code:35000100,extra:{toggleMode:e.toggleMode}}},t.FloatingMenuButtonInviteAFriendClicked=function(){return{name:"floating-menu-button > invite-a-friend > clicked",code:35000101,extra:{}}},t.FloatingMenuButtonAddPostClicked=function(){return{name:"floating-menu-button > add-post > clicked",code:35000102,extra:{}}},t.FloatingMenuButtonAddItemClicked=function(){return{name:"floating-menu-button > add-item > clicked",code:35000103,extra:{}}},t.FloatingMenuButtonAskAiClicked=function(){return{name:"floating-menu-button > ask-ai > clicked",code:35000104,extra:{}}},t.FloatingMenuItemClicked=function(e){return{name:"floating-menu > item-clicked",code:35000110,extra:{item:e.item}}},t.InstructionTabButtonClicked=function(){return{name:"instruction-tab > button > clicked",code:35000200,extra:{}}},t.SideBarMenuOpenMenu=function(e){return{name:"side-bar-menu > open-menu",code:36000100,extra:{contentType:e.contentType}}},t.SideBarMenuCloseMenu=function(e){return{name:"side-bar-menu > close-menu",code:36000101,extra:{contentType:e.contentType}}},t.SideBarMenuAskAgentCreateSessionClicked=function(){return{name:"side-bar-menu > ask-agent > create-session-clicked",code:36001001,extra:{}}},t.SideBarMenuAskAgentSwitchSessionClicked=function(e){return{name:"side-bar-menu > ask-agent > switch-session-clicked",code:36001002,extra:{sessionId:e.sessionId}}},t.SideBarMenuAskAgentEditSessionNameClicked=function(e){return{name:"side-bar-menu > ask-agent > edit-session-name-clicked",code:36001100,extra:{sessionId:e.sessionId}}},t.SideBarMenuAskAgentEditSessionNameClickedApproved=function(e){return{name:"side-bar-menu > ask-agent > edit-session-name-clicked > approved",code:36001101,extra:{sessionId:e.sessionId}}},t.SideBarMenuAskAgentEditSessionNameClickedCanceled=function(e){return{name:"side-bar-menu > ask-agent > edit-session-name-clicked > canceled",code:36001102,extra:{sessionId:e.sessionId}}},t.OfferingNoteButtonClicked=function(e){return{name:"offering > note > button-clicked",code:37000100,extra:{buttonMode:e.buttonMode}}},t.OfferingNoteSubmitClicked=function(){return{name:"offering > note > submit-clicked",code:37000101,extra:{}}},t.OfferingNoteCancelClicked=function(){return{name:"offering > note > cancel-clicked",code:37000102,extra:{}}},t.OfferingNoteRemoveClicked=function(){return{name:"offering > note > remove-clicked",code:37000103,extra:{}}},t.OfferingReplyButtonClicked=function(e){return{name:"offering > reply > button-clicked",code:37000200,extra:{referencedPostType:e.referencedPostType,referencedPostIndex:e.referencedPostIndex}}},t.OfferingReplyPreviewClicked=function(e){return{name:"offering > reply > preview-clicked",code:37000201,extra:{previewSource:e.previewSource,referencedPostType:e.referencedPostType,referencedPostIndex:e.referencedPostIndex}}},t.OfferingReplyCloseClicked=function(e){return{name:"offering > reply > close-clicked",code:37000203,extra:{referencedPostType:e.referencedPostType,referencedPostIndex:e.referencedPostIndex}}},t.EnterNamePopupImpression=function(){return{name:"enter-name-popup > impression",code:37000300,extra:{}}},t.EnterNamePopupSubmitClicked=function(e){return{name:"enter-name-popup > submit-clicked",code:37000301,extra:{name:e.name}}},t.EnterNamePopupCloseClicked=function(){return{name:"enter-name-popup > close-clicked",code:37000302,extra:{}}},t.SmartTripPlannerButtonImpression=function(e){return{name:"smart-trip-planner > button > impression",code:38000100,extra:{postIndex:e.postIndex}}},t.SmartTripPlannerButtonClicked=function(e){return{name:"smart-trip-planner > button > clicked",code:38000101,extra:{postIndex:e.postIndex}}},t.SmartTripPlannerJourneyImpression=function(e){return{name:"smart-trip-planner > journey > impression",code:38000200,extra:{postIndex:e.postIndex}}},t.SmartTripPlannerJourneyNextButtonClicked=function(e){return{name:"smart-trip-planner > journey > next-button-clicked",code:38000201,extra:{screenName:e.screenName,inputDetails:e.inputDetails}}},t.SmartTripPlannerJourneyBackButtonClicked=function(e){return{name:"smart-trip-planner > journey > back-button-clicked",code:38000202,extra:{screenName:e.screenName,inputDetails:e.inputDetails}}},t.SmartTripPlannerJourneyDoneButtonClicked=function(e){return{name:"smart-trip-planner > journey > done-button-clicked",code:38000203,extra:{inputDetails:e.inputDetails}}},t.SmartTripPlannerResultPageImpression=function(){return{name:"smart-trip-planner > result-page > impression",code:38000301,extra:{}}},t.SmartTripPlannerResultPageDoneButtonClicked=function(e){return{name:"smart-trip-planner > result-page > done-button-clicked",code:38000302,extra:{inputDetails:e.inputDetails}}},t.SmartTripPlannerResultPageInviteClicked=function(){return{name:"smart-trip-planner > result-page > invite-clicked",code:38000303,extra:{}}},t.SmartTripPlannerJourneyDoneFailed=function(){return{name:"smart-trip-planner > journey > done-failed",code:38000400,extra:{}}},t.SmartTripPlannerPostReadMoreClicked=function(e){return{name:"smart-trip-planner > post > read-more-clicked",code:38000500,extra:{postIndex:e.postIndex}}},t.SmartTripPlannerPostReadLessClicked=function(e){return{name:"smart-trip-planner > post > read-less-clicked",code:38000501,extra:{postIndex:e.postIndex}}},t.SmartTripPlannerPostInviteClicked=function(e){return{name:"smart-trip-planner > post > invite-clicked",code:38000502,extra:{postIndex:e.postIndex}}},t.CustomerReportingJoynedTraveller=function(e){return{name:"customer-reporting > joyned-traveller",code:7001e4,extra:{userType:e.userType}}},t.CustomerReportingJoynedTravellerAdded=function(e){return{name:"customer-reporting > joyned-traveller-added",code:70010100,extra:{userType:e.userType}}},t.CustomerReportingJoynedGroupActivity=function(e){return{name:"customer-reporting > joyned-group-activity",code:7002e4,extra:{userType:e.userType}}},t.CustomerReportingJoynedGroupCreated=function(e){return{name:"customer-reporting > joyned-group-created",code:70020100,extra:{userType:e.userType}}},t.ErrorScreenDisplayed=function(e){return{name:"error-screen-displayed",code:8001e4,extra:{errorName:e.errorName,details:e.details}}},t.CodeProfilingNetworkWebsocketConnected=function(e){return{name:"code-profiling > network > websocket-connected",code:9e7,extra:{timeToConnectMs:e.timeToConnectMs}}},t.CodeProfilingNetworkServerResponded=function(e){return{name:"code-profiling > network > server-responded",code:90001e3,extra:{latencyMs:e.latencyMs,path:e.path}}},t.CodeProfilingNetworkRequestSent=function(e){return{name:"code-profiling > network > request-sent",code:90002e3,extra:{path:e.path}}},t.CodeProfilingRedirectLoadAppFailed=function(e){return{name:"code-profiling > redirect > load-app-failed",code:90003e3,extra:{message:e.message,details:e.details,redirectRef:e.redirectRef}}},t.CodeProfilingDebugEvent=function(e){return{name:"code-profiling > debug-event",code:90004e3,extra:{topic:e.topic,details:e.details}}},t.TestEvent=function(e){return{name:"test event",code:99999999,extra:{someString:e.someString,someNumber:e.someNumber,someBoolean:e.someBoolean,someOptionalString:e.someOptionalString}}}},1863:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,U:()=>a});var r=n(1635),o=n(8656);function i(e){return(0,r.AQ)(this,arguments,(function(){var t,n,o;return(0,r.YH)(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,r.N3)(t.read())];case 3:return n=i.sent(),o=n.value,n.done?[4,(0,r.N3)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,r.N3)(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function a(e){return(0,o.T)(null==e?void 0:e.getReader)}},1879:(e,t,n)=>{"use strict";n.d(t,{Bs:()=>u,In:()=>i,NL:()=>s,O1:()=>h,Wh:()=>a,ZU:()=>d,Zd:()=>l,dv:()=>p,fV:()=>c,p6:()=>f,z2:()=>m});var r=n(827),o=n(3745).__;const i={[r.Pk.ALL]:e=>!0,[r.Pk.TOP_VOTED]:(e,t)=>e.postIndex===t.highestVotedPostIndex,[r.Pk.BY_ME]:(e,t)=>e.userId===t.currentUserId,[r.Pk.ITEMS_ONLY]:e=>!!e.offeringContent&&"ai-assistant"!==e.offeringContent.offeringName,[r.Pk.POSTS_ONLY]:e=>!e.offeringContent,[r.Pk.ACTIVE]:e=>!e.deleted},a="ask-seller-clicked",s="add-item-instruction-clicked",c="add-more-items-clicked",u="smart-trip-planner-clicked",d="post",l="system-message",f={delete_post:"delete-post",edit_post:"edit-post",card_clicked:"card-clicked",view_offering:"view-offering",action_clicked:"action-clicked",menu_clicked:"menu-clicked",vote_button_clicked:"vote-button-clicked",reply_post:"reply-to-post-clicked",add_note:"add-note-to-post",remove_note:"remove-note",cancel_note:"cancel-note",submit_note:"submit-note",preview_clicked:"preview-clicked",read_reviews_clicked:"read-reviews-clicked"},p="terms-tooltip-close-clicked",m=()=>({bus:o("trip_bus"),flight:o("trip_flight_to"),ferry:o("trip_ferry"),train:o("trip_train")}),h=()=>({oneWay:o("trip_one_way"),roundTrip:o("trip_round"),multiWay:o("trip_multi_city")})},2052:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(8061);function o(e,t){var n="object"==typeof t;return new Promise((function(o,i){var a,s=!1;e.subscribe({next:function(e){a=e,s=!0},error:i,complete:function(){s?o(a):n?o(t.defaultValue):i(new r.G)}})}))}},2186:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>y,vU:()=>p});var r=n(1635),o=n(8656),i=n(1040),a=n(6455),s=n(2469),c=n(9560),u=d("C",void 0,void 0);function d(e,t,n){return{kind:e,value:t,error:n}}var l=n(3417),f=n(9265),p=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,i.Uv)(t)&&t.add(n)):n.destination=b,n}return(0,r.C6)(t,e),t.create=function(e,t,n){return new y(e,t,n)},t.prototype.next=function(e){this.isStopped?v(function(e){return d("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?v(d("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?v(u,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(i.yU),m=Function.prototype.bind;function h(e,t){return m.call(e,t)}var g=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){_(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){_(e)}else _(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){_(e)}},e}(),y=function(e){function t(t,n,r){var i,s,c=e.call(this)||this;(0,o.T)(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:c&&a.$.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return c.unsubscribe()},i={next:t.next&&h(t.next,s),error:t.error&&h(t.error,s),complete:t.complete&&h(t.complete,s)}):i=t;return c.destination=new g(i),c}return(0,r.C6)(t,e),t}(p);function _(e){a.$.useDeprecatedSynchronousErrorHandling?(0,f.l)(e):(0,s.m)(e)}function v(e,t){var n=a.$.onStoppedNotification;n&&l.f.setTimeout((function(){return n(e,t)}))}var b={closed:!0,next:c.l,error:function(e){throw e},complete:c.l}},2261:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9813),o=n(98);function i(){const{searchParams:e}=new URL(window.location.href);return e.get(r.SESSION_ID_KEY)||o.Z.getItem(r.SESSION_ID_KEY)}},2399:(e,t,n)=>{var r={"./ar":[9691,9691],"./ar.js":[9691,9691],"./ca":[2992,2992],"./ca.js":[2992,2992],"./cs_cz":[3992,3992],"./cs_cz.js":[3992,3992],"./da":[1923,1923],"./da.js":[1923,1923],"./da_dk":[1011,1011],"./da_dk.js":[1011,1011],"./de":[5607,5607],"./de.js":[5607,5607],"./de_ch":[4873,4873],"./de_ch.js":[4873,4873],"./en":[2739],"./en.js":[2739],"./es":[3400,3400],"./es.js":[3400,3400],"./es_ar":[7460,7460],"./es_ar.js":[7460,7460],"./es_cl":[2664,2664],"./es_cl.js":[2664,2664],"./es_co":[2801,2801],"./es_co.js":[2801,2801],"./es_es":[4535,4535],"./es_es.js":[4535,4535],"./es_mx":[5018,5018],"./es_mx.js":[5018,5018],"./fi_fi":[2433,2433],"./fi_fi.js":[2433,2433],"./fr":[2388,2388],"./fr.js":[2388,2388],"./generated/ar":[1391,1391],"./generated/ar.json":[1391,1391],"./generated/ca":[7252,7252],"./generated/ca.json":[7252,7252],"./generated/cs_CZ":[1686,1686],"./generated/cs_CZ.json":[1686,1686],"./generated/da_DK":[6453,6453],"./generated/da_DK.json":[6453,6453],"./generated/de":[3207,3207],"./generated/de.json":[3207,3207],"./generated/de_CH":[1027,1027],"./generated/de_CH.json":[1027,1027],"./generated/de_DE":[5595,5595],"./generated/de_DE.json":[5595,5595],"./generated/en":[2655],"./generated/en.json":[2655],"./generated/es":[9496,9496],"./generated/es.json":[9496,9496],"./generated/es_419":[4425,4425],"./generated/es_419.json":[4425,4425],"./generated/es_AR":[6622,6622],"./generated/es_AR.json":[6622,6622],"./generated/es_CL":[374,374],"./generated/es_CL.json":[374,374],"./generated/es_CO":[3735,3735],"./generated/es_CO.json":[3735,3735],"./generated/es_ES":[7141,7141],"./generated/es_ES.json":[7141,7141],"./generated/es_MX":[5576,5576],"./generated/es_MX.json":[5576,5576],"./generated/es_UY":[8707,8707],"./generated/es_UY.json":[8707,8707],"./generated/fi_FI":[3835,3835],"./generated/fi_FI.json":[3835,3835],"./generated/fr":[7132,7132],"./generated/fr.json":[7132,7132],"./generated/fr_FR":[6153,6153],"./generated/fr_FR.json":[6153,6153],"./generated/he":[7403,7403],"./generated/he.json":[7403,7403],"./generated/he_fashion_female":[7925,7925],"./generated/he_fashion_female.json":[7925,7925],"./generated/it":[3829,3829],"./generated/it.json":[3829,3829],"./generated/it_IT":[7271,7271],"./generated/it_IT.json":[7271,7271],"./generated/ja_JP":[9120,9120],"./generated/ja_JP.json":[9120,9120],"./generated/kk_KK":[4553,4553],"./generated/kk_KK.json":[4553,4553],"./generated/ko_KR":[8122,8122],"./generated/ko_KR.json":[8122,8122],"./generated/nl":[3042,3042],"./generated/nl.json":[3042,3042],"./generated/nl_NL_informal":[5534,5534],"./generated/nl_NL_informal.json":[5534,5534],"./generated/no":[4371,4371],"./generated/no.json":[4371,4371],"./generated/pl_PL":[9765,9765],"./generated/pl_PL.json":[9765,9765],"./generated/pt":[7264,7264],"./generated/pt.json":[7264,7264],"./generated/pt_BR":[9273,9273],"./generated/pt_BR.json":[9273,9273],"./generated/pt_PT":[9189,9189],"./generated/pt_PT.json":[9189,9189],"./generated/ro":[4311,4311],"./generated/ro.json":[4311,4311],"./generated/ru_RU":[867,867],"./generated/ru_RU.json":[867,867],"./generated/sv_SE":[4278,4278],"./generated/sv_SE.json":[4278,4278],"./generated/uk_UA":[7891,7891],"./generated/uk_UA.json":[7891,7891],"./generated/zh_CN":[126,126],"./generated/zh_CN.json":[126,126],"./he":[2675,2675],"./he.js":[2675,2675],"./he_fashion_female":[9979,9979],"./he_fashion_female.js":[9979,9979],"./it":[8089,8089],"./it.js":[8089,8089],"./it_it":[8945,8945],"./it_it.js":[8945,8945],"./ja_JP":[5122,5122],"./ja_JP.js":[5122,5122],"./kk_KK":[2983,2983],"./kk_KK.js":[2983,2983],"./ko_kr":[9876,9876],"./ko_kr.js":[9876,9876],"./nl":[2450,2450],"./nl.js":[2450,2450],"./nl_NL_informal":[382,382],"./nl_NL_informal.js":[382,382],"./no":[831,831],"./no.js":[831,831],"./pl":[8892,8892],"./pl.js":[8892,8892],"./pl_pl":[6051,6051],"./pl_pl.js":[6051,6051],"./pt":[9348,9348],"./pt.js":[9348,9348],"./pt_br":[5435,5435],"./pt_br.js":[5435,5435],"./pt_pt":[8787,8787],"./pt_pt.js":[8787,8787],"./ro":[8587,8587],"./ro.js":[8587,8587],"./ru":[869,869],"./ru.js":[869,869],"./ru_ru":[6769,6769],"./ru_ru.js":[6769,6769],"./se":[7692,7692],"./se.js":[7692,7692],"./sv_se":[5432,5432],"./sv_se.js":[5432,5432],"./uk":[1104,1104],"./uk.js":[1104,1104],"./uk_UA":[5777,5777],"./uk_UA.js":[5777,5777],"./zh_cn":[3636,3636],"./zh_cn.js":[3636,3636]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n.t(o,19)))}o.keys=()=>Object.keys(r),o.id=2399,e.exports=o},2410:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(3277),o=n.n(r),i={d:(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},a={};i.d(a,{Z:()=>u});const s=(d={default:()=>o()},l={},i.d(l,d),l),c=e=>Array.isArray(e)?[].concat(...e.map(c)):e instanceof Element||e instanceof Text?e:null!=e&&e.toString?(0,s.default)(e.toString()):null,u=(e,...t)=>{const n=t.map(c),r=n.map(((e,t)=>e instanceof Element||e instanceof Text?`<div class="html-fairy-ph" data-index="${t}"></div>`:Array.isArray(e)?e.every((e=>e instanceof Element||e instanceof Text))?`<div class="html-fairy-ph" data-index="${t}" data-placeholder-type="array"></div>`:e.map((e=>e??"")).join(""):e??"")),o=String.raw(e,...r),i=document.createElement("div");i.innerHTML=o.trim(),i.querySelectorAll(".html-fairy-ph").forEach((e=>{const t=Number.parseInt(e.getAttribute("data-index")??"-1",10);if(-1===t)throw new Error("html-fairy placeholder is defined with no data index");if("array"===e.getAttribute("data-placeholder-type")){const r=e.parentElement;e.remove(),n[t].forEach((e=>{r?.appendChild(e)}))}else e.parentElement?.replaceChild(n[t],e)}));const a=Array.from(i.childNodes).filter((e=>"#text"!==e.nodeName||e.textContent&&e.textContent.trim().length>0));return i.firstChild&&a.length>1?a:i.firstChild};var d,l,f=a.Z},2469:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(6455),o=n(3417);function i(e){o.f.setTimeout((function(){var t=r.$.onUnhandledError;if(!t)throw e;t(e)}))}},2655:e=>{"use strict";e.exports=JSON.parse('{"AI_error_message":"Oops! It seems we\'re having trouble responding to this topic right now.","Adult only":"Adults only","All-Inclusive":"All-Inclusive","Approve":"Approve","Aquamarine":"Brave","Ask_a_friend_share_btn":"Ask a friend","Azure":"Good","Bear":"Bear","Blue":"Happy","Book":"Book","Brown":"Good","CLOSE":"CLOSE","Cancel":"Cancel","Cat":"Cat","Change":"Change","Change my nickname":"Change my nickname","City":"City","Clipboard":"Copy link","Close":"Close","Coral":"Brave","Couples":"Couples","Crimson":"Smart","Cyan":"Nice","DarkBrown":"Nice","DarkGreen":"Funny","DarkPurple":"Good","Deal expired":"Deal expired","Delete item":"Delete item","Email":"Email","Entertainment":"Entertainment","Events":"Events","Expand":"Expand","Facebook":"Facebook","Facebook Messenger":"Facebook Messenger","From":"From","Fuchsia":"Funny","Gamitee language name":"en","Getaway":"Getaways","Gmail":"Gmail","Got it":"Got it","Green":"Good","Haze":"Brave","I found a good option on":"I found a good option on","I found good options on":"I found good options on","Interests":"Interests","Invite Friends":"Invite Friends","Itinerary":"Itinerary","Join me on":"Join me on","Just you":"Just you","Khaki":"Nice","Kiwi":"Happy","Levender":"Happy","Lime":"Happy","Magenta":"Kind","Mandarin":"Happy","Mandarina":"Brave","Maroon":"Nice","Matcha":"Funny","Messenger":"Messenger","Minimize":"Minimize","More":"More","More details in my favorites list":"\\nMore details in my favorites list","N/A":"N/A","OK":"OK","Olden":"Brave","Olive":"Smart","Orange":"Smart","Participant":"Participant","Participants":"Participants","Passenger":"Passenger","Passengers":"Passengers","Pink":"Smart","Plan with friends":"Plan With Friends","Plum":"Kind","Premium":"Premium","Price":"Price","Privacy Policy":"Privacy Policy","Product already added":"Product already added","Purple":"Kind","Red":"Charming","Relax":"Relax","Remove":"Remove","Shadow":"Funny","Show menu":"Show menu","Sport":"Sport","Stop":"Stop","Sun & Beach":"Sun & Beach","Teal":"Charming","Telegram":"Telegram","Terms of Use":"Terms of Use","Tomato":"Good","Transit":"Transit","Traveler":"Traveler","View Details":"View details","Violet":"Smart","Weather forecast":"Weather forecast","What to do":"What to do","What to see":"What to see","Whatsapp":"WhatsApp","When to go":"When to go","Yellow":"Charming","You":"You","You can always start another list using the \\"Add & Share\\" button":"You can always start another list using the \\"Add & Share\\" button","You try to connect to a session that does not exists. You can initiate a new one by clicking \\"Share & Add\\" button.":"You try to connect to a session that does not exists. You can initiate a new one by clicking \\"Share & Add\\" button.","You\'re invited to a booking confirmation session with your friends":"You\'re invited to a booking confirmation session with your friends","Yuzo":"Nice","add_button":"Add","add_by_click":"Add items by clicking\\nthis button on the website.","add_item_button":"How to add items?","add_item_explaining_subtitle":"Once added, you can discuss,\\nvote, and book them","add_item_explaining_title":"To add items, click this\\nbutton on the website","add_item_instruction_text":"When an item is added, you can discuss vote, and book","add_item_instruction_title":"Add items by clicking\\nthis button on the website","add_more_items_button":"Add more options","add_next_item_tooltip":"Click to add to your trip","add_note":"Add Note","add_post_button":"Post","add_to_list":"Add to List","add_to_wishlist":"Add to Wishlist","add_trip_button":"Add to trip","add_trip_item":"Add trip item","agent_created_the_trip_alert":"An Agent created this trip","agent_joined_the_trip_alert":"An agent has joined your trip","agent_name":"Agent Smith","agent_subscriptions":"My groups","ai-trip-planner":"AI Trip Planner","ai_approve":"Yes, I\'d love to!","ai_avatar_name":"AI Planner","ai_decline":"No, thank you","ai_end_conversation":"No problem. If you want me to come back for help, click my icon","ai_great":"Great","ai_how_can_i_help":"I\'m here to help you with your {{location}} visit. To start, pick a topic:","ai_invite_friends":"I noticed you havent invited friends yet.\\nIts better to decide together. Shall we start?","ai_not_now":"Not now","ai_not_selected":"Please select one of the options above","ai_title":"AI planner reporting for duty!","ai_tooltip_btn":"Allow AI Planner","ai_tooltip_subtitle":"Get ideas and trip data based on your search","ai_tooltip_title":"New! AI Planner","and":"and","ask_agent":"Ask Agent","ask_seller_modal_subtitle":"Selecting this option will invite a travel agent to join your group session.","ask_seller_modal_title":"Invite an Agent","back":"Back","back_button_text":"back","brave":"brave","building_your_list":"Building your list","change_nickname_btn_prompt":"Add a nickname","change_nickname_prompt_message":"Add your nickname so your \\nfriends know who you are","change_your_nickname":"Change your nickname","chat_tab_capslock_myFriends":"My friends","chill":"chill","choose_different":"Please choose a different one.","clear_offering_list_no":"NO!","clear_offering_list_yes":"Yes, I\'m sure","close_delet_list_copy":"Are you sure you want to leave the trip?\\nYou will not be able to return to it.","close_delete_list":"Leave the trip","colleague":"colleague","coming_soon_feature":"This awesome feature is coming soon!","coming_soon_subtitle":"Want to be the first to know when it launches? Enter your email and we\'ll keep you updated!","comment_contextual_tip":"Share your thoughts or ask a question about this option","comment_per_item_button":"Chat with Friends","comment_per_item_tip":"No one placed any comments yet, be the first","comments_header":"Discuss","compose_post_header":"Start a discussion","compose_post_placeholder":"Start a discussion","connect_to_whatsapp_text":"Get notifications on WhatsApp","connect_whatsapp_button":"Connect WhatsApp","cool":"cool","copied_alert":"copied!","cta_invite_joyned_tab":"Invite","current_created_the_trip":"You created this trip","current_joined_the_group_alert":"You joined the group","current_joined_the_trip_alert":"You joined the trip","current_left_the_trip_alert_copy":"You left the trip","current_user_name_display":"Me","current_user_removed_post":"A post was removed by you","custom_share_text_title":"Personal message","date_of_birth":"Date of birth","date_of_created_multi_list":"Created on","date_of_stay":"Date of stay:","dates":"Dates","deal_expire":"The deal has expired","default_offering_text":"What do you think about this option?","delete_post":"Delete post","delete_post_key":"Delete","delete_post_modal_subtitle":"Are you sure you want to delete?","deleted_offering_messages":"This option has been deleted by {{user_name}}","destination":"destination","dob_input_error-1":"invalid date of birth!","dob_input_error-2":"must be 13 or older to register","dog":"dog","edit_key":"Edit","edit_note":"Edit note","edit_post":"Edit post","edit_profile":"Edit profile","elephant":"elephant","email":"email","email_address":"Email Address","email_auth_button_text":"Continue","email_auth_error_header":"Sorry, we didn\'t\\nrecognize this email","email_auth_error_subheader":"Try to sign in with a different email","email_auth_fail_toast_text":"Login error","email_auth_header":"Sign in with an email","email_auth_subheader":"Enter the email address you wish to associate with your account, and well send a magic link to your inbox.","email_auth_success_toast_text":"Login Successfully!","email_format_error":"Invalid email format","email_input_error":"invalid email!","email_input_field":"Your email address","email_sent_screen_footer":"email link is valid for 24 hours","email_sent_screen_header":"Check your inbox","email_sent_screen_subheader":"Click the link we sent you to sign in","empty_chat_text":"Plan your trip together","empty_list_placeholder_button":"Add now","empty_list_placeholder_text":"to discuss and vote with friends","empty_list_placeholder_title":"Add your first trip option","empty_list_subtitle":"There\'s nothing here to talk about yet","empty_list_title":"You need to add an item","enter_email_address":"Enter your email address","enter_name_placeholder":"Name","enter_name_text_initiator":"Enter your name, \\nso your friends know its you","enter_name_text_invitee":"Ready to chat? Let friends know whos here","enter_name_title":"Welcome!","example: Jane Smith":"example: Jane Smith","exit_list_new":"Exit and close","exit_list_sub_text_new":"Leave the trip and close this window","exit_modal_subtitle":"If you leave, your data will be lost","exit_modal_title":"Are you sure you want to exit?","exit_new_modal":"Exit","family":"family","fast_paced":"Fast-paced","fearless":"fearless","feedback_menu":"Send feedback","feedback_new":"Feedback","feedback_placeholder":"Type your feedback here","feedback_sub_text":"Tell us what you think or report an issue","feedback_title":"Send us feedback","feedback_title_joyned_tab":"Give us feedback","feedback_tooltip":" Please let us know what you think about our product, so we can make it better ","filter-text-active":"Active","filter-text-all":"All","filter-text-by-me":"By me","filter-text-items-only":"Items Only","filter-text-posts-only":"Posts","filter-text-top-voted":"Top voted","first_name":"First name","first_name_input_error":"invalid first name","for":"for","friend":"friend","friend_joined_the_trip_alert":"A friend","frog":"frog","from":"from","funny":"funny","gmail":"gmail","go_to_item_key":"Go to item","goofy":"goofy","happy":"happy","header_friends_connected":"Friends connected","header_main_title":"Get Your Friends\' Opinion","hippo":"hippo","hover_btn_hint":"Get your friends\' opinions","initiator_welcome_screen_btn":"Invite & decide","input_text_box_placeholder":"What do you think?","input_text_chat_placeholder":"Message...","input_text_comment_placeholder":"Comment...","invite friends":"invite friends","invite_Contextual_tip":"Invite your friends to chat and vote","invite_bar_text":"You are alone here\\nInvite others","invite_btn":"Add a friend","invite_btn_new":"Invite a friend","invite_friends_main_menu":"Invite your friends","invite_friends_modal_subtitle":"to join you live and give their opinion","invite_friends_modal_title":"Invite your friends","invite_screen_add":"Add your own","invite_screen_add_subtitle":"To share with your friends","invite_screen_btn":"Let\'s go","invite_screen_comment":"Comment","invite_screen_comment_subtext":"On items your friends added","invite_screen_vote":"Vote","invite_screen_vote_subtitle":"For your favorite","invite_text_body":"Hey, I found some amazing travel options on {{hostName}}  help me pick the best one before theyre gone!\\n\\nTake a look here:\\n{{inviteLink}}\\n\\nExcited to plan this trip with you!","invite_text_title":"Help Me Choose! Lets Book Our Trip  ","invitee_header_main_title":"Share what you think","invitee_overlay_title":"Welcome to your\\nshared list","invitee_screen_title":"Welcome to \\nthe group!","invitee_text_first_line":"Hey, can I \ufeffget your opinion?","invitee_text_forth_line":"You can find all the items in my \ufefflist:","invitee_text_third_line":"but I\'m not sure which to pick.","join_whatsapp_ask_seller":"A travel expert has been invited. \\nThe waiting time is up to 8 hours. \\n\\nYou can receive a notification on WhatsApp when the agent is connected.","keep_update":"Keep Me Updated","kids_age":"Age 0-17","kind":"kind","last_name":"Last name","last_name_input_error":"invalid last name","like":"Like","lion":"lion","list_item_tooltip":"Add more items by pressing","list_name_placeholder":"Name your group","listening":"listening","loader_loading":"LOADING","loader_main_title":"Get advice from your friends LIVE","local_culture":"Local Culture","log_in":"Log in","login_prompt_text":"Log in and plan your next vacation with friends, save your data and favorites groups","logout":"Log out","loyal":"loyal","main_tooltip_travel_subtitle":" NEW! Invite your friends and decide together.","main_tooltip_travel_title":"Travelling together?","menu_my_list":"My trips","menu_my_list_sub":"Click to see all your trips","menu_notification_subtitle":"Get notifications on Whatsapp","menu_notifications_title":"Notifications","menu_title":"Menu","message_friends_key":"Message friends...","minimize":"minimize","minimized_contextual_tooltip_text":"Joyned will be here to add friends and discussions","modify_trip":"Modify Trip","monkey":"monkey","multi_list_my_lists_place_older":"You haven\'t created\\nany trips yet","multi_list_name":"Trip name","multi_list_shared_lists_place_older":"No trips have been\\nshared with you yet","multi_rename_list":"Rename your trip","multi_shared_list":"Shared with me","multilist_status":"I was invited","must_see":"Must See","my_gruop_tab":"Joyned","my_list_minimised_state":"My trip","my_nickname":"My Nickname","neighbor":"neighbor","new_feature_badge":"New!","new_key":"NEW","new_list_multilist":"+New trip","new_tooltip_first_sentence":"Plan with your","new_welcome_create_group":"Creating your trip","new_welcome_first_item":"Adding your first item","new_welcome_success":"Your Trip is ready  \\nstart your discussion!","next_button_text":"next","nice":"nice","note_key":"Note","notes_filters_key":"Notes","now":"now","number_of_adults":"Number of adults","number_of_kids":"Number of kids","offer_expired":"Offer expired","offering_added_by":"Added by","offering_cannot_load":"Offer cannot be loaded.","offering_myItem_tab":"MY ITEMS","offering_myItem_tab_caps":"My items","offering_update_price_note":"The price may have changed. Click the item to see the current price.","ok_to_estimate":"Its okay to estimate","opinion_counter_title":"friends","opinions_offering_tab":"Comments","opinions_offering_tab_singular":"Comment","opinions_one_place":"Get your friends opinions\\nall in one place","or":"or","other_created_the_trip":"created this trip","other_joined_the_group_alert_copy":"joined the trip","other_left_the_group_alert_copy":"left the group","other_left_the_trip_alert_copy":"left the trip","other_user_removed_post":"A post was removed by {{user_name}}","owl":"owl","panda":"panda","pay_together_button":"Pay together","pay_together_title":"Pay together, the smart and easy way to share expenses","phone_number":"Phone number","plan_short_button":"Plan","plan_trip_together_toast":"67K+ people planned their trip together","plan_with_friends_2_line":"Plan with\\nfriends","playing":"playing","pop_up_notification_btn":"Create","popover_new_title":"Share hotels & collaborate with friends","popup_notification_placeholder_group":"Trip name","post_contextual_tip":"Create a private post to plan your trip with friends","post_read_less":"Read less","post_read_more":"Read more","post_removed_by":"{{user_name}} removed","post_submit":"Post","posts_back_to_tab":"back to posts","posts_invite_and_discuss":"Add an item, invite friends, or create a post","posts_no_activity":"No activity yet","price_warning":"The price may have changed. Click the item to see the current price.","privacy-disclaimer-text":"Your conversations are private and your information will be handled carefully in accordance with our [Privacy Policy](www.joyned.co/privacy-policy/). Further use constitutes acknowledgment of our [Terms of Use](www.joyned.co/terms-of-use/).","private_post":"This post is private","profile":"Profile","profile_edit_button_subheader":"Personalize your profile","profile_logged_in":"Logged in","rabbit":"rabbit","ranking_popup_title":"What is your vote?","read_reviews":"Read Reviews","refreshing_disconnect":"Please try refreshing the page.","remove_item_offering_small_menu":"Remove item","reply":"Reply","reviews":"{{reviews_count}} reviews","reviews_singular":"{{reviews_count}} review","reviews_thousand":"{{reviews_count}}k reviews","running":"running","save_to_wishlist":"Save to Wishlist","send_btn":"Send","send_this_to_start":"By sending this message, I agree to subscribe to WhatsApp notifications for Joyned trips.\\nThis may take a few minutes.","session_creation_today":"Today","share_friends_btn":"Share with friends","share_short_button":"Share","share_with_friends_2_line":"Share with\\nfriends","shared_on":"Shared on","sharp":"sharp","sheep":"sheep","silly":"silly","sister":"sister","sitting":"sitting","smart":"smart","smart_trip_planner":"Smart Trip Planner","social_proof_subtitle_10k_friends":"To start, click on\\nthis button","social_proof_subtitle_10k_groups":"+1000 private groups are discussing this location","social_proof_subtitle_connect_whatsapp":"Keep your trip group in the loop","social_proof_subtitle_fun_planning":"Plan your trip together","social_proof_title_10k_friends":"+1000 friends planned\\nand decided together","social_proof_title_connect_whatsapp":"Connect to your WhatsApp","social_proof_title_fun_planning":"Planning is half the fun","something_went_wrong":"Oops! Something went wrong. Please try again later.","start_now":"Start now","stitch_skip":"Skip","stops":"stops","stp_init_title":" Hi there! Lets build your custom itinerary together","stp_pick_budget":"What\'s your travel budget excluding flights?","stp_pick_experience":"Pick your perfect experience","stp_pick_vibe":"Pick your travel vibes","subtitle_invite_screen":"Friends will join live","subtitle_invite_setting_menu":"To join you live and give their opinions","subtitle_invite_tab":"Friends will join live \\nand give their opinions","subtitle_native_share":"Friends can join live","thank_you":" Thank you","thank_you_note_feedback":"Thank you  \\nYour feedback has been sent!","tiger":"tiger","to search for a good option":"to search for a good option","top_chat_privacy_disclaimer":"Private Group","top_chat_user_count":"Members","top_opinions_privacy_disclaimer":"Private","tough":"tough","travelers_reviews":"Traveler Reviews","trending_cool_offers":"You can go to trending tab and get cool offers.","trending_list_tab":"Trending","trending_loader":"Opening website","trip_bus":"Bus to","trip_flight_to":"Flight to {{destination}}","trip_multi_city":"Multi-city","trip_one_way":"One way","trip_round":"Round Trip","trip_show_less":"Show less","trip_show_more":"show more","trip_train":"Train to","untitled_list":"Trip from {{date}}","untitled_list_location":"Trip to {{location}}","up_to":"up to","user_identity_subtitle":"Whats your name?","user_identity_title":"Let your friends know its you!","user_registered":"You are already registered","valid_name_err_msg":"Please enter a valid name","votes_popup_title":"Group votes","walking":"walking","welcome_btn_later":"Invite Later","welcome_discuss":"Discuss, vote, and book","welcome_enjoy":"Enjoy your trip together","welcome_help_invitee":"Help your friend plan your trip","welcome_invite":"Invite friends and plan together","welcome_screen_title":"Plan With Friends","welcome_subtitle":"Invite your friends,\\ndecide together","whatsapp":"WhatsApp","whatsapp_auth_button_text":"Sign up with WhatsApp","whatsapp_auth_error_header":"Sorry, we didn\'t\\nrecognize that number.","whatsapp_auth_error_subheader":"Try to sign in with a different number","whatsapp_auth_header":"Sign up to Joyned\\nvia WhatsApp","whatsapp_auth_subheader":"To sign up via WhatsApp enter\\nyour phone number below","whatsapp_input_error":"invalid phone number","whatsapp_notification_text":"New! Get notifications on WhatsApp","whatsapp_page__step3":"Now that you are successfully connected, you will get notified for any activity your friends did on Joyned","whatsapp_page_header_text":"Joyned is now on WhatsApp!","whatsapp_page_step1":"Click The Connect WhatsApp Button below","whatsapp_page_step2":"Click the send button on your WhatsApp to approve the activation code to enable notifications.","whatsapp_page_subheader":"3 easy steps to connect:","whatsapp_sent_screen_footer":"Link is valid for 10 minutes","whatsapp_sent_screen_header":"Go to WhatsApp and click on the link","will_update_feature":"We will email you when the feature is ready","wise":"wise","witty":"witty","working":"working","wrong_disconnect":"Something went wrong...","you":"you","you_are_chatting_with_yourself_subtitle":"Invite them over to tell you what they think!","you_are_chatting_with_yourself_title":"Chat here with your friends","your_last_name":"Your last name","your_name":"Your name","{{avatar}} {{adjective}}":"{{avatar}} {{adjective}}"}')},2717:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(8581),o=n(1273),i=n(1754),a=n(8955),s=n(3807);function c(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"==typeof e?e:{count:e}).count,c=void 0===n?1/0:n,u=t.delay,d=t.resetOnSuccess,l=void 0!==d&&d;return c<=0?i.D:(0,r.N)((function(e,t){var n,r=0,i=function(){var d=!1;n=e.subscribe((0,o._)(t,(function(e){l&&(r=0),t.next(e)}),void 0,(function(e){if(r++<c){var l=function(){n?(n.unsubscribe(),n=null,i()):d=!0};if(null!=u){var f="number"==typeof u?(0,a.O)(u):(0,s.Tg)(u(e,r)),p=(0,o._)(t,(function(){p.unsubscribe(),l()}),(function(){t.complete()}));f.subscribe(p)}else l()}else t.error(e)}))),d&&(n.unsubscribe(),n=null,i())};i()}))}},2726:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,P:()=>r});const r={ITEMS:"items",RECOMMENDATIONS_BY_LOCATION:"recommendationsByLocation",RECOMMENDATIONS_BY_POST_PROPERTY:"recommendationsByPostProperty",API:"api"},o={ALL:"all"}},2739:(e,t,n)=>{const r=n(2655),o={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,ordinal:e=>{const t=["th","st","nd","rd"],n=e%100;return`[${e}${t[(n-20)%10]||t[n]||t[0]}]`}};t.direction="ltr",t.strings=r,t.locale=o,t.defaults=void 0},2761:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i,Xs:()=>o,aP:()=>a});const r={primaryColor:"#202020",accentColor:"#fff",textOnPrimaryColor:"#fff",black:"#202020",white:"#ffffff",gray:{100:"#d9d9d9",200:"#b3b3b3",300:"#8d8d8d",400:"#676767",500:"#414141",600:"#343434",700:"#272727",800:"#1a1a1a",900:"#0d0d0d"}},o={backgroundColor:"#485def",textColor:"#ebedfb",hoverBackgroundColor:"#384cd7"},i=r;function a(e){const t="#"===e.charAt(0)?e.substring(1,7):e;return.299*parseInt(t.substring(0,2),16)+.587*parseInt(t.substring(2,4),16)+.114*parseInt(t.substring(4,6),16)<=186?r.white:r.black}},2910:(e,t,n)=>{"use strict";function r(e){const t=/android/i.test(e),n=/mobile/i.test(e);return/(ipad|tablet)/i.test(e)||!n&&t?"tablet":n?"mobile":"desktop"}function o(e){return/android/i.test(e)?"android":/(iphone|ipad)/i.test(e)?"ios":/windows/i.test(e)?"windows":/macintosh/i.test(e)?"macintosh":/linux/i.test(e)?"linux":void 0}function i(e){return/chrome.{1,30}safari.{1,30}edg/i.test(e)?"edge":/firefox|FxiOS.{1,30}safari|Focus.{1,30}safari/i.test(e)?"firefox":/chrome.{1,30}safari|CriOS.{1,30}safari/i.test(e)?"chrome":/version.{1,30}safari/i.test(e)?"safari":"other"}function a(e){return{osType:o(e),deviceType:r(e),browserType:i(e)}}n.d(t,{A:()=>a,h:()=>o})},2959:(e,t,n)=>{"use strict";n.d(t,{n:()=>f,A:()=>p});var r=n(9813),o=n(98);function i(){function e(){const e=o.Z.getItem(r.EXPERIMENTS_KEY)||"{}",t=JSON.parse(e);return Object.entries(t).reduce(((e,[t,n])=>{const r="string"==typeof(o=n)?{variation:o,assignedDate:Date.now()}:o;var o;return null==r?{...e}:{...e,[t]:r}}),{})}return function(){const t=e();o.Z.setItem(r.EXPERIMENTS_KEY,t)}(),{persistExperiment:function(t,n){const i={...e(),[t]:n};o.Z.setItem(r.EXPERIMENTS_KEY,i)},getVariation:function(t){const n=e();return n[t]?.variation},getPersistedExperiments:function(){const t=e();return Object.keys(t)},clearExperiment:function(t){const{[t]:n,...i}=e(),a=i;o.Z.setItem(r.EXPERIMENTS_KEY,a)}}}var a=n(6963);class s{constructor(e){this.dataLayer=e}createExperiment(e,t){const n=this.dataLayer.getVariation(e);if(null!=n)return{activeVariation:n,isNewAssignment:!1};const r=function(e){let t=0;const n=(0,a.A)(),r=Number.parseInt(n.slice(-6),16)%100/100;for(let n=0;n<e.length;n++){const o=e[n];if(r>=t&&r<t+o.weight)return o.name;t+=o.weight}return e[e.length-1].name}(t);return this.dataLayer.persistExperiment(e,{variation:r,assignedDate:Date.now()}),{activeVariation:r,isNewAssignment:!0}}}var c=n(6010);const u=function(e,t){const n="1"===(0,c.Ay)().hide,i="true"===o.Z.getItem(r.OVERRIDE_HIDE_KEY),a=t&&"true"!==o.Z.getItem(r.IMPRESSION_TEST_KEY);return"true"===new URLSearchParams(window.location.search).get("showButton")||!n||a||e||i?"show-button":"hide-button"},d="new-ui-experiment";const l="jnd_ff_",f="jnd_persisted_ff_";function p(e,t){const n={calculate:function(e,t,n){return!n||"override"===e.updatePolicy.persist||function(e,t){const n=e.updatePolicy;return"ignore_before"===n.persist&&null!=n.ignoreBeforeMs&&n.ignoreBeforeMs>=t.lastUpdate}(e,n)?{lastUpdate:t,version:e.version,tags:"",variation:e.value}:n}};let a,c,p={};async function m(e){const t=i(),n=new s(t);return{impression:{variation:u(e.isInvitee,e.testerType),tags:""},uiVersion:{variation:n.createExperiment(d,[{name:"show-new-ui",weight:0},{name:"show-old-ui",weight:1}]).activeVariation,tags:""},notificationOnButton:{variation:"hide",tags:""},simpleLoader:{variation:"hide",tags:""}}}const h={};let g;return{get experiments(){return p},setAllExperiments:async function(i){a=await m(i);const s=await e.getUserFeatureFlags();let u;c=JSON.parse(localStorage.getItem(r.OVERRIDE_EXPERIMENTS_KEY)??"{}"),g=JSON.parse(o.Z.getItem(r.FF_URL_PERSIST_KEY)??"{}"),new URLSearchParams(window.location.search).forEach(((e,t)=>{t.includes(l)?(u=t.replace(l,""),h[u]={variation:e,version:-1,lastUpdate:Date.now(),tags:"url-override"}):t.includes(f)&&(u=t.replace(f,""),g[u]={variation:e,version:-1,lastUpdate:Date.now(),tags:"url-override"})})),o.Z.setItem(r.FF_URL_PERSIST_KEY,g);const d=await async function(e){const i=o.Z.getItem(r.PEGASUS_FEATURE_FLAGS_KEY),a=i?JSON.parse(i):{},s=t.serverTime,c=Object.entries(e??{}).reduce(((e,[t,r])=>{const o=n.calculate(r,s,a[t]);return e[t]=o,e}),a);return o.Z.setItem(r.PEGASUS_FEATURE_FLAGS_KEY,JSON.stringify(c)),c}(s),y=i.testerType,_=d?.impression,v=y||i.isInvitee||!_?a.impression:_;p={...a,...d,impression:v,...g,...c,...h}}}}},3102:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8198);class o extends r.A{constructor(e,t,n,r){super(e,{extractor:{params:n,extractorName:t},field:r??""},"scrapers")}appendToField(e){this.details.field=this.details.field?`${e}.${this.details.field}`:e}}},3277:e=>{"use strict";var t=/["'&<>]/;e.exports=function(e){var n,r=""+e,o=t.exec(r);if(!o)return r;var i="",a=0,s=0;for(a=o.index;a<r.length;a++){switch(r.charCodeAt(a)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==a&&(i+=r.substring(s,a)),s=a+1,i+=n}return s!==a?i+r.substring(s,a):i}},3303:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var r=n(8656);function o(e){return(0,r.T)(null==e?void 0:e.then)}},3417:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var r=n(1635),o={setTimeout:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=o.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,(0,r.fX)([e,t],(0,r.zs)(n))):setTimeout.apply(void 0,(0,r.fX)([e,t],(0,r.zs)(n)))},clearTimeout:function(e){var t=o.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},3549:(e,t,n)=>{"use strict";n.d(t,{R0:()=>c,lI:()=>s,ms:()=>a});var r=n(8656),o=n(4575);function i(e){return e[e.length-1]}function a(e){return(0,r.T)(i(e))?e.pop():void 0}function s(e){return(0,o.m)(i(e))?e.pop():void 0}function c(e,t){return"number"==typeof i(e)?e.pop():t}},3706:(e,t,n)=>{"use strict";async function r(e){const t=(new TextEncoder).encode(e),n=await window.crypto.subtle.digest("SHA-1",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}n.d(t,{t:()=>r})},3745:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>d,IJ:()=>m,Zg:()=>i,__:()=>p,mm:()=>f});var r=n(2739),o=n(1090);const i="en-US",a=/[-]+/g,s=e=>e.replace(a,"_"),c=e=>[e,e.toLowerCase(),e.split("_")[0]],u=["ar","ca","cs_cz","da","da_dk","de","de_ch","en","es","es_ar","es_cl","es_co","es_es","es_mx","fi_fi","fr","he","he_fashion_female","it","it_it","ja_JP","kk_KK","ko_kr","nl","nl_NL_informal","no","pl","pl_pl","pt","pt_br","pt_pt","ro","ru","ru_ru","se","sv_se","uk","uk_UA","zh_cn"].map(s);function d(){let{direction:e,strings:t}=r,a=i,d={relativeDateFormat:"narrow"};return{get localeCode(){return a},get direction(){return e},get defaults(){return d},loadLanguage:async function(i){const l=s(i),f=c(l).find((e=>u.includes(e)))??"",p=f?await(0,o.O)((()=>n(2399)(`./${f}`)),{source:`Language loading: ${f}`,retries:10,backoff:500,tag:"import"}):r;e=p.direction,a=i,t={...r.strings,...p.strings},d=p.defaults??d},overrideWords(e){t={...t,...e}},translate:e=>t[e]??e}}let l;function f(e){l=e}function p(e){return l?.translate(e)??e}function m(){return l?.localeCode??i}},3807:(e,t,n)=>{"use strict";n.d(t,{Tg:()=>h});var r=n(1635),o=n(4480),i=n(3303),a=n(1220),s=n(198),c=n(9664),u=n(7884),d=n(9354),l=n(1863),f=n(8656),p=n(2469),m=n(7785);function h(e){if(e instanceof a.c)return e;if(null!=e){if((0,s.l)(e))return _=e,new a.c((function(e){var t=_[m.s]();if((0,f.T)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((0,o.X)(e))return y=e,new a.c((function(e){for(var t=0;t<y.length&&!e.closed;t++)e.next(y[t]);e.complete()}));if((0,i.y)(e))return h=e,new a.c((function(e){h.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,p.m)}));if((0,c.T)(e))return g(e);if((0,d.x)(e))return n=e,new a.c((function(e){var t,o;try{for(var i=(0,r.Ju)(n),a=i.next();!a.done;a=i.next()){var s=a.value;if(e.next(s),e.closed)return}}catch(e){t={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}e.complete()}));if((0,l.U)(e))return t=e,g((0,l.C)(t))}var t,n,h,y,_;throw(0,u.L)(e)}function g(e){return new a.c((function(t){(function(e,t){var n,o,i,a;return(0,r.sH)(this,void 0,void 0,(function(){var s,c;return(0,r.YH)(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=(0,r.xN)(e),u.label=1;case 1:return[4,n.next()];case 2:if((o=u.sent()).done)return[3,4];if(s=o.value,t.next(s),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),i={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),o&&!o.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}},3845:(e,t,n)=>{"use strict";n.d(t,{uj:()=>p,aO:()=>f,vF:()=>_});var r=n(8198),o=n(6210);class i extends o.a8{reportDebug(e,t,n){const r=this._getStyles(n);this._getStacktrace();e=this._stylizeLogMessage(e,"DEBUG",r,n)}reportWarning(e,t,n,r){const o=this._getStyles(r);this._getStacktrace();e=this._stylizeLogMessage(e,"WARNING",o,r)}reportInfo(e,t,n){const r=this._getStyles(n);this._getStacktrace();e=this._stylizeLogMessage(e,"INFO",r,n)}reportError(e,t,n){const r=this._getStyles(n);e.details,this._getStacktrace(),this._stylizeLogMessage(e.message,"ERROR",r,n)}_getStyles(e){if(e)return o.A$[e]}_stylizeLogMessage(e,t,n,r){return e=n?`${f()} [${t}] %c${r}:%c ${e}`:`${f()} [${t}] ${this._formatMessage(e,r)}`}_getStacktrace(){const e=new Error,t=e.stack?.split("\n");return t?t.slice(2).join("\n").trim():"Stacktrace unavailable"}}var a=n(4709),s=n(98),c=n(9813);class u extends o.a8{get baseUrl(){return(0,a.Ay)()?"https://dev-hopper.joyned.app":"https://hopper.joyned.app"}reportDebug(e,t,n){e=this._formatMessage(e,n);const r=this._buildStackTrace(e),i=JSON.stringify({version:"4cf0aa666ff4016b68ba9ef454cd5bc99ead314a",stackTrace:r,extra:{service:"tinkerbell",message:e,url:window.location.href,experiments:s.Z.getItem(c.EXPERIMENTS_KEY),details:{...t},tag:n}});this._sendToHopper(i,t,o.cm.DEBUG)}reportInfo(e,t,n){e=this._formatMessage(e,n);const r=this._buildStackTrace(e),i=JSON.stringify({version:"4cf0aa666ff4016b68ba9ef454cd5bc99ead314a",stackTrace:r,extra:{service:"tinkerbell",message:e,url:window.location.href,experiments:s.Z.getItem(c.EXPERIMENTS_KEY),details:{...t},tag:n}});this._sendToHopper(i,t,o.cm.INFO)}reportWarning(e,t,n,r){e=this._formatMessage(e,r);const i=this._buildStackTrace(e),a=JSON.stringify({version:"4cf0aa666ff4016b68ba9ef454cd5bc99ead314a",stackTrace:i,extra:{service:"tinkerbell",message:e,url:window.location.href,experiments:s.Z.getItem(c.EXPERIMENTS_KEY),logs:n?.reverse(),tag:r,details:{...t}}});this._sendToHopper(a,t,o.cm.WARNING)}reportError(e,t,n){if(this._shouldIgnore())return;const r=this._formatMessage(e.message,n),o=JSON.stringify({version:"4cf0aa666ff4016b68ba9ef454cd5bc99ead314a",stackTrace:`${r}\n${e.stack}`,extra:{service:"tinkerbell",details:e.details,url:window.location.href,experiments:s.Z.getItem(c.EXPERIMENTS_KEY),logs:t?.reverse(),message:r,tag:n}});fetch(`${this.baseUrl}/error`,{method:"POST",headers:{"content-type":"application/json","x-joyned-tinkerbell-version":"4cf0aa666ff4016b68ba9ef454cd5bc99ead314a"},body:o}).catch((()=>{window.console.warn("Error calling hopper",{originalHopperErrorMessage:r,originalHopperStackTrace:e.stack})}))}_buildStackTrace(e){const t=new Error,n=t.stack?.split("\n").slice(7);return n?(n.unshift(e),n.join("\n")):"Stacktrace unavailable"}_shouldIgnore(){return["AhrefsBot","AdsBot-Google"].some((e=>navigator.userAgent.includes(e)))}_sendToHopper(e,t,n){if(this._shouldIgnore())return;const r=this._getEndpointFromLevel(n);fetch(`${this.baseUrl}/${r}`,{method:"POST",headers:{"content-type":"application/json","x-joyned-tinkerbell-version":"4cf0aa666ff4016b68ba9ef454cd5bc99ead314a"},body:e}).catch((()=>{window.console.warn(`Error calling hopper with log level: ${n}`,{body:e,extras:t})}))}_getEndpointFromLevel(e){switch(e){case o.cm.DEBUG:return"debug";case o.cm.WARNING:return"warning";case o.cm.ERROR:return"error";case o.cm.INFO:default:return"info"}}}var d=n(6763);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(new Date).toISOString().replace("T"," ").replace("Z","")}const p={ACCESS_DENIED:"Bouncer denied access",ALREADY_LOADED:"Joyned is already loaded",ANALYTICS_ALREADY_LOADED:"Joyned analytics is already loaded",UNSUPPORTED_BROWSER:"Unsupported browser"};const m=[p.ACCESS_DENIED,p.ALREADY_LOADED],h=/https:\/\/\w{0,5}-?cdn\.joyned\.app\//,g={consoleReporting:o.cm.INFO,maxLogBufferSize:20},y={cloudReporting:o.cm.WARNING,maxLogBufferSize:60};const _=new class{constructor(){l(this,"_reporters",[]),l(this,"_reportedErrors",{}),l(this,"_logs",[]),l(this,"_extraDetails",{}),this._shouldUsePrdConfigs=!0,this._config=this._shouldUsePrdConfigs?y:g,this.setInitialLogLevel(),this._reporters=[new i(this._config.consoleReporting),new u(this._config.cloudReporting)];const e=new URLSearchParams(window.location.search).get(d.jQ.REDIRECT_REF)??"";e&&this.addExtraDetails({redirectRef:e}),this._watchForErrors(),this._subscribeToStorageLogs()}setInitialLogLevel(){const e=s.Z.getItem(c.LAST_LOG_LEVEL);if(null!==e){const t=Number.parseInt(e,10);this.setup(t)}}setup(e){e&&this._shouldUsePrdConfigs&&(s.Z.setItem(c.LAST_LOG_LEVEL,e.toString()),this._config.cloudReporting=e,this._reporters=[new i(this._config.consoleReporting),new u(this._config.cloudReporting)])}addExtraDetails(e){this._extraDetails={...this._extraDetails,...e}}debug(e,t,n){const r={...t,...this._extraDetails};this._reporters.forEach((t=>t.debug(e,r,n))),this._appendLogToBuffer(e,o.cm.DEBUG,t,n)}info(e,t,n){const r={...t,...this._extraDetails};this._reporters.forEach((t=>t.info(e,r,n))),this._appendLogToBuffer(e,o.cm.INFO,t,n)}warning(e,t,n){const r={...t,...this._extraDetails};this._reporters.forEach((t=>t.warning(e,r,this._logs,n))),this._appendLogToBuffer(e,o.cm.WARNING,t,n)}error(e,t){e.details={...this._extraDetails,...e.details},this._reporters.forEach((n=>n.error(e,this._logs,t??e.tag))),this._appendLogToBuffer(e.message,o.cm.ERROR,e.details,t??e.tag)}errorOnce(e,t,n){var r,o;(r=this._reportedErrors)[o=e.message]??(r[o]=[]);this._reportedErrors[e.message].some((e=>{return n=t,r=e,Object.keys(n).length===Object.keys(r).length&&Object.keys(n).every((e=>n[e]===r[e]));var n,r}))||(this.error(e,n??e.tag),this._reportedErrors[e.message].push(t))}_handleErrorEvent(e){if(!e)return;if(m.includes(e.message))return;h.test(e.stack??"")&&this.error(e,e.tag??"uncaught_error")}_watchForErrors(){window.addEventListener("error",(e=>this._handleErrorEvent(e.error))),window.addEventListener("unhandledrejection",(e=>this._handleErrorEvent(e.reason)))}_getLogLevelLabel(e){const t=Object.entries(o.cm).find((([t,n])=>n===e));return t?t[0]:void 0}_appendLogToBuffer(e,t,n,r){const o=r?`${r}: `:"",i={message:`${f()} [${this._getLogLevelLabel(t)}] ${o}${e}`,extra:n};this._logs.push(i),this._logs.length>this._config.maxLogBufferSize&&this._logs.shift()}_subscribeToStorageLogs(){s.Z.logErrors$.subscribe((({logLevel:e,message:t,extra:n,tag:i})=>{switch(e){case o.cm.DEBUG:this.debug(t,n,i);break;case o.cm.WARNING:this.warning(t,n,i);break;case o.cm.ERROR:this.error(new r.A(t,n,i));break;case o.cm.INFO:default:this.info(t,n,i)}}))}}},3846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InviteeLandingPageLoaded=function(){return{name:"invitee landing page > loaded",code:23e6,extra:{}}},t.InviteeLandingPageCtaClicked=function(){return{name:"invitee landing page > cta > clicked",code:23010100,extra:{}}},t.TestEvent=function(e){return{name:"test event",code:99999999,extra:{someString:e.someString,someNumber:e.someNumber,someBoolean:e.someBoolean,someOptionalString:e.someOptionalString}}}},3940:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(9512),o=n(1754);function i(e){return void 0===e&&(e=1/0),(0,r.Z)(o.D,e)}},4246:(e,t,n)=>{"use strict";n.d(t,{D_:()=>h,HT:()=>m,jN:()=>s,k_:()=>u,lb:()=>g,mu:()=>d,tT:()=>f,xb:()=>y,zO:()=>c});var r=n(5220),o=n(3845),i=n(3745).__;const a=["Animals","Human"],s={Animals:{adjectives:["able","agile","brave","busy","calm","chic","chief","chill","cool","cosy","cute","deep","eager","easy","fair","fast","fine","free","fresh","funny","fuzzy","glad","godly","good","goofy","grand","great","happy","holy","jolly","just","keen","kind","large","loyal","lucky","macho","magic","mild","neat","nice","noble","proud","pure","quick","quiet","rare","ready","regal","rich","royal","savvy","sharp","silly","small","smart","soft","stoic","sunny","super","sweet","tame","tidy","tough","true","wild","wise","witty","young"],avatars:["alligator","bat","bear","beaver","bull","camel","cat","deer","dog","dolphin","dragon","duck","eagle","elephant","ferret","fox","frog","giraffe","gorilla","hedgehog","hippo","horse","hyena","koala","lion","monkey","moose","octopus","owl","panda","penguin","pigeon","platypus","rabbit","racoon","rhino","sheep","squirrel","tiger","unicorn","walrus","whale","wolf"],format:"{{adjective}} {{avatar}}"},Human:{adjectives:["Traveler"],avatars:["DarkGreen","DarkPurple","DarkBrown","Mandarin","Shadow","Tomato","Yuzo","Aquamarine","Haze","Levender","Mandarina","Matcha","Azure","Blue","Brown","Coral","Crimson","Cyan","Fuchsia","Green","Khaki","Kiwi","Lime","Magenta","Maroon","Olden","Olive","Orange","Pink","Plum","Purple","Red","Teal","Violet","Yellow"],format:"{{avatar}} {{adjective}}"}},c="Human",u=s[c].avatars[0],d=`${s[c].adjectives[0]} ${u}`,l=/https:\/\/(dev-)?avatars.joyned.app\/([a-zA-Z]+)\.svg((\?v=[0-9.]+)(\/[a-zA-Z]+))?/,f="user-initials:",p="Received invalid avatar collection name";function m(e){return t=e,a.includes(t)||(o.vF.info(p,{value:t},"profile_api"),0)?e:c;var t}function h(e){if(e.startsWith(f))return!0;const t=l,n=e.match(t);if(!n)return!1;const[,,r,o,i,a]=n,c=a?.substring(1);return!!(i&&c&&c in s&&r&&s[c].avatars.includes(r))||!o}function g(e){const t=e.split(" ");if(2!==t.length)return!1;const[n,r]=t;return Object.keys(s).some((e=>{const{avatars:t,adjectives:o}=s[e];return o.find((e=>i(e)===n))&&t.find((e=>i(e)===r))||o.find((e=>i(e)===r))&&t.find((e=>i(e)===n))}))}function y(e){if(!function(e){const t=e.split(" ");if(2!==t.length)return!1;const[n,r]=t;return Object.keys(s).some((e=>{const{avatars:t,adjectives:o}=s[e];return o.includes(n)&&t.includes(r)||o.includes(r)&&t.includes(n)}))}(e))return e;const[t,n]=e.split(" "),o=(0,r.A)(i("{{adjective}} {{avatar}}")).format({adjective:i(t),avatar:i(n)});return o!==e?o:e}},4480:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},4575:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(8656);function o(e){return e&&(0,r.T)(e.schedule)}},4709:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>u,F3:()=>i,mj:()=>d,oK:()=>s,w9:()=>l});var r=n(98),o=n(9813);const i="joynedvip",a={QA:"qa",DEV:"dev",CLIENT:"client",DEMO:"demo",ANALYTICS:"analytics"};function s(){const e=sessionStorage.getItem(o.TESTER_STORAGE_KEY),t=r.Z.getItem(o.TESTER_STORAGE_KEY);return e||t}function c(){return new URLSearchParams(window.location.search).get(i)}function u(){const e=s();return!("https://cdn.joyned.app/4cf0aa666ff4016b68ba9ef454cd5bc99ead314a/".startsWith("https://cdn.gamitee.io")||"https://cdn.joyned.app/4cf0aa666ff4016b68ba9ef454cd5bc99ead314a/".startsWith("https://cdn.joyned.app"))||!!e&&Object.values(a).includes(e)}async function d(){const e=c();e&&(!function(){const e=c();return e&&Object.values(a).includes(e)?e:null}()?r.Z.removeItem(o.TESTER_STORAGE_KEY):Object.values(a).includes(e)?await r.Z.setItem(o.TESTER_STORAGE_KEY,e):await r.Z.removeItem(o.TESTER_STORAGE_KEY))}function l(){const e=s();return u()&&e!==a.DEMO}},4874:(e,t,n)=>{"use strict";function r(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{L:()=>r})},5220:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3845);const o=/{{(.*?)}}/g;function i(e){return{format:function(t){return e?e.replace(o,((e,n)=>{const o=n.split(".").reduce(((e,t)=>"object"==typeof e?e[t]:e),t);return o||r.vF.debug(`Template argument ${e} is missing`),o||""})):""}}}},5240:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(1635),o=n(7611),i=n(8734),a=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=i.U);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return(0,r.C6)(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,a=n._timestampProvider,s=n._windowTime;r||(o.push(t),!i&&o.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var a=n.now(),s=0,c=1;c<r.length&&r[c]<=a;c+=2)s=c;s&&r.splice(0,s+1)}},t}(o.B)},5281:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,DU:()=>c,Dk:()=>s});var r=n(9342),o=n(3745),i=n(3745).__;function a(e,t,n){return null==e?n:"string"==typeof e||e instanceof String?String(e):(0,r.$)(t,e)??n}function s(e){return null!=e.key}function c(e,t){return s(e)?i(e.key):a(e,(0,o.IJ)(),t)}},5451:(e,t,n)=>{"use strict";n.d(t,{S6:()=>o,WV:()=>r});const r={"user-joined":301,"offering-added":302,"offering-removed":303,"user-left":304,"session-name-changed":305,"post-added":306,"comment-added":501},o={"user-generated":1,"terms-of-use":901,...r}},5462:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7611),o=n(5240),i=n(8751),a=n(6315),s=n(8198);class c extends s.A{constructor(e,t,n,r,o,i){super("Error in pegasus API",{info:o,statusText:t,status:e,requestId:n,path:r,content:i},"network")}}var u=n(6990);const d="X-Joyned-Server-Time-Ms";function l(e){const t=new r.B,n=new r.B,s=new o.m(1),l=s.pipe((0,i.d)(),(0,a.t)(1));let f;async function p(r,o,i,a){const c=setTimeout((()=>{n.next({failureReason:"request-connection-timeout",details:{path:r}})}),1e4);let u=await e.makeRequest(r,o,i,a);clearTimeout(c);const{headers:l,status:p}=u;if(null==f&&null!==l.get(d)&&(f=Date.now()-Number(l.get(d))),401===p&&!0===i)try{await e.authenticate({refreshAuthentication:!0}),u=await e.makeRequest(r,o,i,a)}catch(t){t instanceof Error&&"authentication failure"===t.message&&e.revokeAuthentication()}return 410===p&&t.next(),e.authenticationToken&&i&&s.next(e.authenticationToken),u}async function m(e,t,n,r){const o=await p(t,e,n,r);if(o.status>=400){const{details:n}=await o.json().catch((()=>({details:`Cannot parse 4xx response -> \n${JSON.stringify({status:o.status,headers:o.headers,path:t,method:e,id:(0,u.R)(o),requestConfig:r})}`})))||{details:void 0};throw new c(o.status,o.statusText,(0,u.R)(o),t,n)}try{return await o.json()}catch(n){throw new c(o.status,o.statusText,(0,u.R)(o),t,`Cannot parse response ->\n ${JSON.stringify({headers:o.headers,method:e,requestConfig:r})}`)}}return{postWithStatusCodeOnly:(e,t,n)=>async function(e,t,n,r){const o=await p(t,e,n,r);if(o.status>=400){let n;try{n=await o.text()}catch(e){}throw new c(o.status,o.statusText,(0,u.R)(o),t,`Error response found ->\n${JSON.stringify({headers:o.headers,content:n,method:e,requestConfig:r})}`,n)}return o.status}("POST",e,t??!0,n),get:(e,t,n)=>m("GET",e,t??!0,{headers:n}),post:(e,t,n)=>m("POST",e,t??!0,n),put:(e,t,n)=>m("PUT",e,t??!0,n),delete:(e,t,n)=>m("DELETE",e,t??!0,{headers:n}),authenticate:t=>e.authenticate(t),get hasUser(){return null!=e.authenticationToken},get sessionExpired$(){return t.asObservable()},get serverTime(){return Date.now()-f},get requestTimedOut$(){return n.asObservable()},uniqueAuthToken$:l}}},5541:(e,t,n)=>{"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{o:()=>r})},5677:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.TinkerbellEvents=t.StitchEvents=void 0,t.isSessionIdRequired=function(e){return!!s[e.code.toString()]},t.StitchEvents=a(n(3846)),t.TinkerbellEvents=a(n(1813));const s={11000200:!0,12000100:!0,12010100:!0,12010200:!0,12020101:!0,12020102:!0,12020104:!0,12030100:!0,12030101:!0,12030200:!0,12030300:!0,13010100:!0,13010200:!0,13010300:!0,14010100:!0,1402e4:!0,14020100:!0,14020200:!0,14040100:!0,14040200:!0,14050100:!0,14050200:!0,14050101:!0,14050102:!0,1406e4:!0,14060001:!0,14060100:!0,14060101:!0,14060102:!0,14060103:!0,1407e4:!0,14070001:!0,1408e4:!0,14080001:!0,15010100:!0,15010200:!0,16010001:!0,16010100:!0,16010300:!0,16010301:!0,16010302:!0,16010303:!0,16020400:!0,16030100:!0,18030100:!0,18040100:!0,18060100:!0,18060200:!0,1807e4:!0,1808e4:!0,18080100:!0,19010100:!0,19020100:!0,19030100:!0,19030200:!0,19040100:!0,19040200:!0,19050100:!0,19060100:!0,19060200:!0,19070100:!0,19070101:!0,19070200:!0,20000100:!0,20010100:!0,20020100:!0,2201e4:!0,22010001:!0,22010100:!0,22010101:!0,22010200:!0,22010201:!0,22010202:!0,23e6:!0,23010100:!0,25e6:!0,2501e4:!0,25010100:!0,25010200:!0,26010100:!0,26010200:!0,26010201:!0,26040100:!0,26040201:!0,26040202:!0,27010100:!0,27010101:!0,27010102:!0,27010200:!0,27010210:!0,27010201:!0,27010202:!0,27010203:!0,27010204:!0,27010300:!0,27010301:!0,27010400:!0,27010401:!0,28010100:!0,28010101:!0,28010102:!0,28010200:!0,29000100:!0,29000101:!0,29000102:!0,3001e4:!0,3101e4:!0,31010100:!0,31010200:!0,3201e4:!0,32010100:!0,32010101:!0,32010102:!0,32010200:!0,32010201:!0,32010300:!0,32010301:!0,33000100:!0,33000200:!0,33000201:!0,34e6:!0,34000001:!0,35000100:!0,35000101:!0,35000102:!0,35000103:!0,35000104:!0,35000110:!0,35000200:!0,36000100:!0,36000101:!0,36001001:!0,36001002:!0,36001100:!0,36001101:!0,36001102:!0,37000100:!0,37000101:!0,37000102:!0,37000103:!0,37000200:!0,37000201:!0,37000203:!0,37000300:!0,37000301:!0,37000302:!0,38000100:!0,38000101:!0,38000200:!0,38000201:!0,38000202:!0,38000203:!0,38000301:!0,38000302:!0,38000303:!0,38000400:!0,38000500:!0,38000501:!0,38000502:!0,7001e4:!0,70010100:!0,7002e4:!0,70020100:!0,8001e4:!0,90004e3:!0,99999999:!0}},5859:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(1220),o=n(3807);function i(e){return new r.c((function(t){(0,o.Tg)(e()).subscribe(t)}))}},6010:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i,GQ:()=>a,v4:()=>s});const r=/\/(?:([a-z]{2}(?:_[a-zA-Z_-]+)?)\.)?bundle\.js|\/script\.js/,o='script[src*="cdn.gamitee.io/"],script[src*="cdn.joyned.app/"]';function i(){const e=Array.from(document.querySelectorAll(o)).filter((e=>e.src.match(r)));if(0===e.length)return{};return e.reduce(((e,t)=>e.length?e:Array.from(new URL(t.src).searchParams)),[]).reduce(((e,[t,n])=>(e[t]=n,e)),{})}function a(){return i().lang}function s(){return"true"===i().mobileApp}},6210:(e,t,n)=>{"use strict";n.d(t,{A$:()=>o,a8:()=>i,cm:()=>r});const r={DEBUG:10,INFO:20,WARNING:30,ERROR:40},o={import:{title:"background-color: yellow; color: black; font-size:1.25em;",text:"background-color: red; color: black;"},session_init:{title:"background-color: darkblue; color: white; font-size:1.25em;",text:"background-color: darkblue; color: white;"},uncaught_error:{title:"background-color: red; color: black; font-size:1.25em;",text:"background-color: red; color: black;"},profile_api:{title:"background-color: yellow; color: black; font-size:1.25em;",text:"background-color: yellow; color: black;"},button_tutorial:{title:"color: green; font-size:1.25em;",text:"color: green;"},system_messages:{title:"color: green; font-size:1.25em;",text:"color: green;"},social_toast:{title:"color: green; font-size:1.25em;",text:"color: green;"},network:{title:"background-color: lightblue; color: black; font-size:1.25em;",text:"background-color: lightblue; color: black;"},community_stats:{title:"color: purple; font-size:1.25em;",text:"color: purple;"},scrapers:{title:"background-color: yellow; color: black; font-size:1.25em;",text:"background-color: yellow; color: black;"},storage:{title:"color: green; font-size:1.25em;",text:"color: green;"},analytics:{title:"background-color: lightblue; color: black; font-size:1.25em;",text:"background-color: lightblue; color: black;"},reply_message:{title:"color: green; font-size:1.25em;",text:"color: green;"},transactions:{title:"color: gold; font-size:1.25em;",text:"color: green;"},loader:{title:"background-color: darkblue; color: white; font-size:1.25em;",text:"background-color: darkblue; color: white;"},posts:{title:"background-color: darkblue; color: white; font-size:1.25em;",text:"background-color: darkblue; color: white;"},bouncer_init:{title:"background-color: darkblue; color: white; font-size:1.25em;",text:"background-color: darkblue; color: white;"},tooltip_controller:{title:"color: green; font-size:1.25em;",text:"color: green;"},theme:{title:"color: green; font-size:1.25em;",text:"color: green;"},invite_click:{title:"color: green; font-size:1.25em;",text:"color: green;"},smart_trip_planner:{title:"color: purple; font-size:1.25em;",text:"color: purple;"},buttons:{title:"color: blue; font-size:1.25em;",text:"color: yellow;"},customer_api:{title:"color: pink; font-size:1.25em;",text:"color: pink;"},data_layer_reporter:{title:"color: orange; font-size:1.25em;",text:"color: orange;"}};class i{constructor(e){this.config=e}debug(e,t,n){!this.config||this.config>r.DEBUG||this.reportDebug(e,t,n)}info(e,t,n){!this.config||this.config>r.INFO||this.reportInfo(e,t,n)}warning(e,t,n,o){!this.config||this.config>r.WARNING||this.reportWarning(e,t,n,o)}error(e,t,n){!this.config||this.config>r.ERROR||this.reportError(e,t,n)}_formatMessage(e,t){return t&&(e=`${t}: ${e}`),e}}},6296:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var r=n(9202),o=n(8581),i=n(1273);function a(e){return e<=0?function(){return r.w}:(0,o.N)((function(t,n){var r=0;t.subscribe((0,i._)(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}},6315:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(5240),o=n(8928);function i(e,t,n){var i,a,s,c,u=!1;return e&&"object"==typeof e?(i=e.bufferSize,c=void 0===i?1/0:i,a=e.windowTime,t=void 0===a?1/0:a,u=void 0!==(s=e.refCount)&&s,n=e.scheduler):c=null!=e?e:1/0,(0,o.u)({connector:function(){return new r.m(c,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}},6455:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6763:(e,t,n)=>{"use strict";n.d(t,{jQ:()=>d,jb:()=>f,Ay:()=>p});var r=n(4709),o=n(98),i=n(8757),a=n(2261);const s=function(e){const t=(e.match(/([^.]+)\.\w{2,3}(?:\.\w{2})?$/)||[])[1];return["localhost","127.0.0.1","192.168.1"].some((t=>e.startsWith(t)))?"joyned":t??e}(window.location.host);var c=n(6010),u=n(9813);const d={SESSION_ID:"gamiteeSID",REDIRECT_REF:"_jndRR"};function l(){const e=new URLSearchParams(window.location.search).get(d.SESSION_ID);e&&o.Z.getItem(u.SESSION_ID_KEY)!==e&&o.Z.setItem(u.USER_TYPE_KEY,"invitee");const t=o.Z.getItem(u.SESSION_ID_KEY)!==e;return{get isInvitee(){return"invitee"===o.Z.getItem(u.USER_TYPE_KEY)},set isInvitee(e){o.Z.setItem(u.USER_TYPE_KEY,e?"invitee":"initiator")},get testerType(){return(0,r.oK)()},isFirstTimeInCurrentSession:t}}function f(e){return{create:async function(t,n){return await e.setAllExperiments(t.user),{...t,get experiments(){return e.experiments},language:{defaults:n.defaults,language:n.localeCode,direction:n.direction,name:n.localeCode},isInMobileApp:(0,c.v4)()}}}}function p(){return{reporter:(0,i.A)(),getSessionID:a.A,user:l(),host:s,isInMobileApp:(0,c.v4)()}}},6963:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function a(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function c(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}const u=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return c(o)}},6990:(e,t,n)=>{"use strict";n.d(t,{A:()=>b,R:()=>v});var r=n(5677),o=n(7809),i=n(8928),a=n(2052),s=n(1635),c=n(1273),u=n(1220),d=n(3807);var l=n(98),f=n(9813),p=n(122),m=n(4246),h=n(8198),g=n(6763),y=n(3845);const _={"POST /data/session":"create-session"};function v(e){return e.headers.get("x-gamitee-request-id")||e.headers.get("apigw-requestid")}function b(e,t,n){const b=`https://data-cdn.${e.pegasusDomain}`,w=t?t.toString():"";function x(){return l.Z.getItem(f.AUTH_TOKEN_KEY)}function E(e){l.Z.setItem(f.AUTH_TOKEN_KEY,e),l.Z.setItem(f.LAST_AUTH_KEY,(new Date).toString())}function k(){return l.Z.getItem(f.REFRESH_TOKEN_KEY)}function S(e){l.Z.setItem(f.REFRESH_TOKEN_KEY,e)}function T(t,l,f,p){const{body:m,headers:g}=p??{},E={"x-gamitee-api-key":e.apiKey,"x-joyned-tinkerbell-version":"4cf0aa666ff4016b68ba9ef454cd5bc99ead314a","x-joyned-manifest-version":w,...g},k={method:l,headers:E,keepalive:!0};m&&(k.body=JSON.stringify(m),E["content-type"]="application/json");const S=f?x():null;S&&(E.Authorization=`Bearer ${S}`);const T=Date.now(),A=`${l.toUpperCase()} ${t}`;t.startsWith("/data")&&("all"===n||n?.includes(_[A]))&&gamiteeAnalytics.reportEvent(r.TinkerbellEvents.CodeProfilingNetworkRequestSent({path:A}));const I=function(e,t){void 0===t&&(t={});var n=t.selector,r=(0,s.Tt)(t,["selector"]);return new u.c((function(t){var o=new AbortController,i=o.signal,a=!0,u=r.signal;if(u)if(u.aborted)o.abort();else{var l=function(){i.aborted||o.abort()};u.addEventListener("abort",l),t.add((function(){return u.removeEventListener("abort",l)}))}var f=(0,s.Cl)((0,s.Cl)({},r),{signal:i}),p=function(e){a=!1,t.error(e)};return fetch(e,f).then((function(e){n?(0,d.Tg)(n(e)).subscribe((0,c._)(t,void 0,(function(){a=!1,t.complete()}),p)):(a=!1,t.next(e),t.complete())})).catch(p),function(){a&&o.abort()}}))}(`${b}${t}`,k).pipe((0,o.T)((e=>{const n={...E};n.referer=document.referrer,n.origin=window.location?.href||window.origin;const r=t.replace(/[a-z234567]{26}/g,"_").replace(/\/\d+(\/|$)/g,"/_/"),o=Date.now()-T,i={status:e.status,duration:o,processingTime:e.headers.get("x-gamitee-processing-time-ms"),requestId:v(e),path:r,actualHeaders:n};if(y.vF.debug("Network request sent",i,"network"),void 0===e||e.status>=500&&e.status<600)throw new h.A("server error in pegasus api",i);return e})),(0,i.u)());return(0,a.s)(I)}return{makeRequest:T,get authenticationToken(){return x()},set authenticationToken(e){null!=e&&E(e)},set refreshToken(e){null!=e&&S(e)},get refreshToken(){return k()},revokeAuthentication:function(){l.Z.removeItem(f.REFRESH_TOKEN_KEY),l.Z.removeItem(f.AUTH_TOKEN_KEY),(0,p.A)()},authenticate:async function(e){const t={isSandboxUser:!1,refreshAuthentication:!1,avatarUrlConfig:{avatarCollectionName:m.zO,avatar:m.k_},name:m.mu,externalUserInfo:{externalUserId:"",language:""},...e},n=t.refreshAuthentication&&null!=k(),r=n?"/data/user/token":"/data/user",o=new URLSearchParams(window.location.search).get(g.jQ.REDIRECT_REF)??void 0,i=l.Z.getItem(f.USER_TYPE_KEY),a="initiator"!==i&&"invitee"!==i,s=await T(r,"POST",!1,{body:{isSandbox:t.isSandboxUser,name:n?void 0:t.name,avatarUrlConfig:n?void 0:t.avatarUrlConfig,refreshToken:n?k():void 0,redirectRef:o,externalUserInfo:t.externalUserInfo.externalUserId?t.externalUserInfo:void 0,isInitiatingUser:a}}).then((e=>{try{const t=e.json();return a&&l.Z.setItem(f.USER_TYPE_KEY,"visitor"),t}catch(e){throw new Error(`Authentication failure: Cannot parse response from ${r}`)}}));if(!s.authenticationToken)throw new Error("authentication failure");return E(s.authenticationToken),s.refreshToken&&S(s.refreshToken),s}}}},7138:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},7611:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var r=n(1635),o=n(1220),i=n(1040),a=(0,n(4874).L)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),s=n(5541),c=n(9265),u=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.C6)(t,e),t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new a},t.prototype.next=function(e){var t=this;(0,c.Y)((function(){var n,o;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=(0,r.Ju)(t.currentObservers),a=i.next();!a.done;a=i.next()){a.value.next(e)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;(0,c.Y)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;(0,c.Y)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,a=n.observers;return r||o?i.Kn:(this.currentObservers=null,a.push(e),new i.yU((function(){t.currentObservers=null,(0,s.o)(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new o.c;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(o.c),d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,r.C6)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:i.Kn},t}(u)},7656:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,m:()=>i});var r=n(1754);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}function i(e){return 0===e.length?r.D:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},7721:(e,t,n)=>{"use strict";n.d(t,{lO:()=>s,un:()=>u});var r=n(3845),o=n(9813),i=n(98),a=n(9243);function s(){let e,t;try{return e=i.Z.getItem(o.AUTH_TOKEN_KEY)?.split(".")[1],e?(t=JSON.parse(atob(e)),{userId:t.sub,isSandbox:t.sbx,isUserRegistered:t.reg}):{}}catch(n){return r.vF.warning("Failed to get user data from the localStorage",{e:n,userData:t,userId:e},"transactions"),{}}}function c(){try{const e=i.Z.getItem(o.ANALYTICS_DATA_KEY);if(!(0,a.Qh)(e))return null;const t=JSON.parse(e)?.experiments;if(!t||!(0,a.Qh)(t))return null;const n=JSON.parse(t);return Object.keys(n).reduce((function(e,t){const r=n[t].variation;if(!r)return e;const o=n[t].version;return{...e,[t]:{version:o||0===o?o:-1,variation:r}}}),{})}catch(e){return r.vF.info("Failed to get experiments from the localStorage",{e},"transactions"),null}}function u(){const e=s();return{sessionId:i.Z.getItem(o.SESSION_ID_KEY),userType:i.Z.getItem(o.USER_TYPE_KEY),deviceId:i.Z.getItem(o.ANALYTICS_DEVICE_ID_KEY),userId:e.userId,isSandbox:e.isSandbox,experiments:c()}}},7722:(e,t,n)=>{"use strict";n.d(t,{b:()=>l,E:()=>d});var r=n(1635),o=function(e){function t(t,n){return e.call(this)||this}return(0,r.C6)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(1040).yU),i={setInterval:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=i.delegate;return(null==a?void 0:a.setInterval)?a.setInterval.apply(a,(0,r.fX)([e,t],(0,r.zs)(n))):setInterval.apply(void 0,(0,r.fX)([e,t],(0,r.zs)(n)))},clearInterval:function(e){var t=i.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},a=n(5541),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,r.C6)(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&i.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.o)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o),c=n(8734),u=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=c.U.now,e}(),d=new(function(e){function t(t,n){void 0===n&&(n=u.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return(0,r.C6)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(u))(s),l=d},7785:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},7809:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(8581),o=n(1273);function i(e,t){return(0,r.N)((function(n,r){var i=0;n.subscribe((0,o._)(r,(function(n){r.next(e.call(t,n,i++))})))}))}},7841:(e,t,n)=>{"use strict";n.d(t,{$0:()=>g,$X:()=>x,F4:()=>b,G8:()=>d,GZ:()=>c,Gu:()=>f,Hz:()=>w,J3:()=>E,Sr:()=>l,jQ:()=>p,kH:()=>k,zH:()=>v});var r=n(9434),o=n(5451),i=n(4246),a=n(2726);function s(e){return e.map((e=>({durationMs:e.durationMs,airport:e.airport?{airportCode:e.airport.airportCode,airportName:e.airport?.airportName}:void 0,station:e.station?{stationName:e.station?.stationName}:void 0})))}function c(e){const{city:t,country:n,lang:r,type:o}=e;return{city:t,country:n,lang:r??"en",type:o}}function u(e,t){if(e.good){const{sku:t,quantity:n,rating:r}=e.good;return{sku:t,rating:null!=r?{rate:r.scoreMicros/10**6,reviewsCount:r.reviewCount}:void 0,quantity:n}}if(e.hotel){const{name:n,checkOutMs:r,checkInMs:o,starsMicros:i,rating:a,location:s,pax:c}=e.hotel,u=null!=a?{rate:a.scoreMicros/10**6,reviewsCount:a.reviewCount}:void 0;return{hotelName:n,startDate:o?new Date(o):void 0,endDate:r?new Date(r):void 0,stars:i?i/10**6:void 0,rating:u,location:t??s,pax:c}}if(e.trip){const{trips:t,destination:n,origin:r,numOfPassengers:o,location:i}=e.trip;return{trips:t.map((e=>{const{departTimeMs:t,arrivalTimeMs:n,durationMs:r,sellers:o,ticketType:i,connectionsAmount:a,flight:c,ground:u}=e;return{departTimeMs:t,arrivalTimeMs:n,durationMs:r,sellers:o.map((e=>({sellerName:e.sellerName,sellerImage:e.sellerImage}))),ticketType:i,connectionsAmount:a,flight:c?{arrivalAirport:{airportCode:c.arrivalAirport.airportCode,airportName:c.arrivalAirport.airportName},departureAirport:{airportCode:c.departureAirport.airportCode,airportName:c.departureAirport.airportName},connections:s(c.connections)}:void 0,ground:u?{arrivalStation:{stationName:u.arrivalStation.stationName},departureStation:{stationName:u.departureStation.stationName},connections:s(u.connections),vehicleType:u.vehicleType}:void 0}}))??[],destination:n,origin:r,numOfPassengers:o,location:i}}if(e.assistant)return e.assistant;if(e.cruise){const{checkInMs:t,checkOutMs:n,schedule:r,adults:o,children:i,roomType:a}=e.cruise;return{schedule:r,adults:o,children:i,roomType:a,startDate:t?new Date(t):void 0,endDate:n?new Date(n):void 0}}if(e.smartTripPlanner){const{travelPlan:t,travelPreferences:n}=e.smartTripPlanner;return{travelPlan:t,travelPreferences:n}}return{}}function d(e,t="1",n=i.zO){if(e.startsWith(i.tT))return e;let r=e;const o=`${r}?v=${t}/${n}`;return(0,i.D_)(o)?o:`${r}?v=1/${i.zO}`}function l(e,t){const{createdAtMs:n,postIndex:o,offeringContent:i,userId:a}=e;if(i){const e="good"in(s=i)?"goods-offering":"hotel"in s?"hotel-offering":"trip"in s?"trip-offering":"assistant"in s?"ai-assistant":"cruise"in s?"cruise-offering":"smartTripPlanner"in s?"smart-trip-planner":void 0;if(!e)return;return{description:i.description??"",directURL:i.directUrl,appNavigationData:i.appNavigationData,images:i.imageUrls,id:o,title:i.title,data:u(i,t),offeringName:e,price:i.price?{amount:i.price.retailMicros/10**6,currency:i.price.currencyCode,description:i.price.description}:void 0,salePrice:null!=i.price?.saleMicros?{amount:i.price.saleMicros/10**6,currency:i.price.currencyCode}:void 0,offeringHash:i.clientId,productId:i.productId,createdAt:n,userId:a,timeoutInHours:i.timeoutMs?i.timeoutMs/r.Z0:void 0}}var s}const f=(e,t)=>({user:{_id:e.userId,displayName:(0,i.xb)(e.profile.name),picture:d(e.profile.avatarUrl,t,(0,i.HT)(e.profile.avatarCollectionName)),lastSeen:new Date(e.lastSeenAtMs).toISOString(),isActive:void 0===e.isActive||e.isActive,imCapabilities:e.imCapabilities??{},roles:e.profile.roles},lastSeen:new Date(e.lastSeenAtMs).toISOString()}),p=(e,t)=>({_id:e.userId,displayName:(0,i.xb)(e.profile.name),picture:d(e.profile.avatarUrl,t,(0,i.HT)(e.profile.avatarCollectionName)),isActive:void 0===e.isActive||e.isActive,imCapabilities:e.imCapabilities??{},roles:e.profile.roles});function m(e){return e.map((e=>({durationMs:e.durationMs,airport:e.airport?{airportCode:e.airport.airportCode,airportName:e.airport?.airportName}:void 0,station:e.station?{stationName:e.station?.stationName}:void 0})))}function h(e){if("goods-offering"===e.offeringName){const{quantity:t,rating:n,sku:r}=e.data;return{good:{sku:r,rating:null!=n?.rate?{scoreMicros:Math.round(n.rate*10**6),reviewCount:n.reviewsCount}:void 0,quantity:t}}}if("hotel-offering"===e.offeringName){const{hotelName:t,stars:n,startDate:r,endDate:o,rating:i,location:a,pax:s}=e.data,u=null!=i?.rate?{scoreMicros:Math.round(i.rate*10**6),reviewCount:i.reviewsCount}:void 0;return{hotel:{name:t,starsMicros:n?Math.round(n*10**6):void 0,checkInMs:r?r.valueOf():void 0,checkOutMs:o?o.valueOf():void 0,rating:u,location:a?c(a):void 0,pax:s}}}if("trip-offering"===e.offeringName){const{trips:t,destination:n,origin:r,numOfPassengers:o,location:i}=e.data,a=t?.map((e=>{const{departTimeMs:t,arrivalTimeMs:n,durationMs:r,ticketType:o,connectionsAmount:i,sellers:a,flight:s,ground:c}=e,u=a.map((e=>({sellerName:e.sellerName,sellerImage:e.sellerImage}))),d=s?{arrivalAirport:{airportCode:s.arrivalAirport.airportCode,airportName:s.arrivalAirport.airportName},departureAirport:{airportCode:s.departureAirport.airportCode,airportName:s.departureAirport.airportName},connections:m(s.connections)}:void 0,l=c?{vehicleType:c.vehicleType,arrivalStation:{stationName:c.arrivalStation.stationName},departureStation:{stationName:c.departureStation.stationName},connections:m(c.connections)}:void 0;return{departTimeMs:t.valueOf(),arrivalTimeMs:n.valueOf(),durationMs:r,sellers:u,ticketType:o,connectionsAmount:i,flight:d,ground:l}}));return{trip:{trips:a??[],destination:n,origin:r,numOfPassengers:o,location:i?c(i):void 0}}}if("ai-assistant"===e.offeringName){const{location:t,answers:n,questions:r}=e.data;return{assistant:{location:t?c(t):void 0,answers:n??[],questions:r}}}if("cruise-offering"===e.offeringName){const{schedule:t,adults:n,children:r,endDate:o,roomType:i,startDate:a}=e.data;return{cruise:{schedule:t,adults:n,children:r,roomType:i,checkInMs:a?a.valueOf():void 0,checkOutMs:o?o.valueOf():void 0}}}if("smart-trip-planner"===e.offeringName){const{travelPlan:t,travelPreferences:n}=e.data;return{smartTripPlanner:{travelPlan:t,travelPreferences:n}}}return{}}const g=e=>{const t=e.images.filter((e=>e)).slice(0,10),n=e.price?{currencyCode:e.price.currency,retailMicros:Math.round(e.price.amount*10**6),saleMicros:e.salePrice?Math.round(e.salePrice.amount*10**6):void 0,description:e.price.description}:void 0,o=e.timeoutInHours?Math.round(e.timeoutInHours*r.Z0):void 0;return{title:e.title,description:e.description,imageUrls:t,directUrl:e.directURL,price:n,clientId:e.offeringHash,productId:e.productId,appNavigationData:e.appNavigationData,timeoutMs:o,...h(e)}};function y(e){if(e.userJoined)return o.WV["user-joined"];if(e.userLeft)return o.WV["user-left"];if(e.sessionNameChanged)return o.WV["session-name-changed"];if(e.postAdded)return o.WV["post-added"];if(e.commentAdded)return o.WV["comment-added"];if(e.postRemoved)return o.WV["post-removed"];if(e.postEdited)return o.WV["post-edited"];throw new Error("can not find a code for the given message")}function _(e,t){return e.userJoined?.userId??t?.userId??e.postRankingUpdated?.userId??e.userLeft?.userId}function v(e){return{postIndex:e.postIndex,userId:e.userId,title:e.title,text:e.text,lastActivityTime:new Date(e.recentActivityAtMs),createdTime:new Date(e.createdAtMs),commentsCount:e.commentsCount,deleted:e.deleted,offeringContent:e.offeringContent?l(e):void 0,votes:e.rankings?(t=e.rankings,Object.keys(t).reduce(((e,n)=>{const r=t[n].ranking;return r&&(e[n]=r),e}),{})):void 0,isSaved:!0,referencedPostIndex:e.referencedPostIndex};var t}function b(e){return{index:e.index,postIndex:e?.postIndex,userId:e?.content.user.userId,text:e?.content.user.text,createdTime:new Date(e?.createdAtMs)}}function w(e,t,n){const r=e.content.system,o=t.posts.find((e=>[r.postAdded?.postIndex,r.commentAdded?.postIndex,r.postRemoved?.postIndex,r.postEdited?.postIndex].includes(e.postIndex)));return{_id:e.index.toString(),eventCode:y(e.content.system),createdAt:new Date(e.createdAtMs).toISOString(),authorId:_(r,o),extra:{posts:t.posts.map(v),users:t.users.map((e=>p(e,n))),comments:t.comments.map(b)}}}const x=(e,t)=>({commentsCount:0,createdTime:new Date(e.createdAt),lastActivityTime:new Date,postIndex:e.id.toString(),offeringContent:{...e,data:e.data?{...e.data,location:t}:{location:t}},userId:e.userId,isSaved:!0,tags:e.tags??[]}),E=(e,t)=>({commentsCount:0,createdTime:new Date(e.updated_at),lastActivityTime:new Date,postIndex:e.id.toString(),offeringContent:{images:e.gallery_images,directURL:e.booking_url,description:e.description,title:e.title,price:{amount:e.max_price,currency:e.price_currency},salePrice:{amount:e.min_price,currency:e.price_currency},data:{rating:{rate:e.rating,reviewsCount:e.number_of_ratings},location:t}},source:`${a.P.API}:${e.source}`,userId:e.source,tags:e.tags});function k(e){const[t,n]=e,o=n-t,i=Math.round(o/r.B7);let a=new Date(t);const s=new Date(n),c=new Set;for(;a<=s;){const e=a.getMonth()+1;c.add(a.toLocaleString("en-US",{month:"long"})),a=new Date(a.setMonth(e))}return{visitMonths:[...c].join(","),numDay:i}}},7884:(e,t,n)=>{"use strict";function r(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,{L:()=>r})},7931:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(3845),o=n(2261);var i=n(8198);class a extends i.A{constructor(e,t){super(e,t??{},"transactions")}}var s=n(1090);function c(){return{send:async function(e,t,n,o){await(0,s.O)((async()=>{await async function(e,t,n,o){const i=await fetch(t,{headers:n,method:e,body:JSON.stringify(o)});if(!i.ok){if(!(i.status>=400&&i.status<500))throw new a("Error in PegasusAPI",{status:i.status,statusText:i.statusText,requestId:i.headers.get("x-gamitee-request-id"),url:t,body:`Request Body: ${JSON.stringify(o)}`});r.vF.error(new a("Invalid network response",{status:i.status,statusText:i.statusText,requestId:i.headers.get("x-gamitee-request-id"),url:t,body:`Request Body: ${JSON.stringify(o)}`}))}}(e,t,n,o)}),{backoff:1e3,retries:5,source:"checkoutAPI",tag:"transactions"})}}}var u=n(9243),d=n(7721),l=n(98);function f(e,t){r.vF.error(new a(e,t))}function p(e,t){r.vF.warning(e,t,"transactions")}const m=50;async function h(e){if(!e)return f("No config passed"),!1;l.Z.initialized||await l.Z.init();const t=!!(0,u.fY)(e.sendJoynedOnly)&&e.sendJoynedOnly;if(!(t&&(0,o.A)()||!t))return!1;const n=e.apiKey;let i=e.region??"main";const a=e.transactionId,s=e.price,h=e.currencyCode,g=e.userId,y=(0,u.Vi)(e.productIds);let _=e.tier??"prd";const v=(0,d.un)();v.isSandbox&&(i="dev",_="dev");const b=(0,u.XB)(n,i,a,s,h,_);if(b.length)return f("Invalid config",{config:e,errors:b}),!1;const w=c(),x=(E=w,{sendTransaction:async function(e,t,n,o,i,a,s,c,u,d,l,f,p,m){const h=Math.round(n),g={productIds:s,externalUserId:c,userId:u,isSandbox:d,deviceId:l,userType:f,sessionId:p,experiments:m},y={transactionId:t,priceMicros:h,currencyCode:o,...Object.keys(g).reduce(((e,t)=>{const n=g[t];return null==n?e:{...e,[t]:n}}),{})},_=`https://data-cdn.${i}.${"dev"===a?"dev-":""}pegasus.joyned.app/analytics/event/transaction`;r.vF.debug("Sending transaction to Pegasus",{path:_,body:y,apiKey:e},"transactions"),await E.send("POST",_,{"Content-Type":"application/json","x-gamitee-api-key":e,"x-joyned-tinkerbell-version":"4cf0aa666ff4016b68ba9ef454cd5bc99ead314a"},y)}});var E;try{let e={};y&&((0,u.ct)(y)?e=y:p("Product ids array is invalid",{productIds:y,transactionId:a,sent:{}}));let t="";g&&""!==g&&((0,u.Qh)(g)?t=(0,u.WD)(g,m,"external user id"):p("External user id is invalid",{userId:g,transactionId:a,sent:""})),await x.sendTransaction(n,a.toString(),1e6*Number(s),h.toUpperCase(),i,_,e,t,v.userId||null,v.isSandbox||null,v.deviceId,v.userType,v.sessionId,v.experiments)}catch(e){return f("Error occured while reporting transaction",{...v,apiKey:n,region:i,tier:_,transactionId:a,error:e}),!1}return!0}window.sendJoynedTransaction=h},8061:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=(0,n(4874).L)((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},8116:(e,t,n)=>{"use strict";n.d(t,{F6:()=>a,Vs:()=>s,dR:()=>i});var r=n(7841);const o=(e,t)=>t.some((({location:t})=>t.city===e.city&&t.country===e.country&&t.type===e.type));function i(e){const{offeringContent:t,postIndex:n}=e;if(!t)return;const{offeringName:o,data:i}=t;if("hotel-offering"===o){const{location:e,startDate:t,endDate:o,hotelName:a}=i;if(e)return{name:a,location:(0,r.GZ)(e),postIndex:n,startDate:t?.valueOf(),endDate:o?.valueOf()}}if("trip-offering"===o){const{location:e,trips:t}=i,{startDate:o,endDate:a}=function(e){return e.length<=0?{}:{startDate:e[0].departTimeMs.valueOf(),endDate:e[e.length-1].arrivalTimeMs.valueOf()}}(t);if(e)return{location:(0,r.GZ)(e),postIndex:n,startDate:o,endDate:a}}}function a(e){const{offeringContent:t}=e;if(!t)return;const{offeringName:n,data:r}=t;return"hotel-offering"===n?r.pax:"trip-offering"===n?r.numOfPassengers:void 0}function s(e){const t=e.filter((e=>!e.deleted)),n=[];return t.forEach((e=>{const t=i(e);t&&!o(t.location,n)&&n.push(t)})),n}},8198:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});class r extends Error{constructor(e,t,n="uncaught_error"){super(e),this.tag=n,this.details=t}}},8581:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(8656);function o(e){return function(t){if(function(e){return(0,r.T)(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},8613:(e,t,n)=>{"use strict";n.d(t,{A:()=>f,Y:()=>l});var r=n(98),o=n(9813),i=n(3845),a=n(3102);function s(e){return"fulfilled"===e.status}function c(e){return"rejected"===e.status}const u="show"===JSON.parse(localStorage.getItem(o.OVERRIDE_EXPERIMENTS_KEY)||"{}")?.extractorLogs?.variation,d=r.Z.getItem(o.DEBUG_EXTRACTORS_KEY);function l(e,t,n,r,o){(u||d)&&(!d||d?.includes(e)||d?.includes(t))}async function f(e,t,n){const r=Object.entries(e).filter((e=>null!=e[1])).map((async([e,r])=>{const[o,...i]=r,s=t.extractor(o),c=await s.extract(n,...i).catch((t=>{throw t instanceof a.A?(t.appendToField(e),t):new a.A(t.message,o,i,e)}));return l(o,e),[e,c]})),o=await Promise.allSettled(r).then((e=>{e.filter(c).forEach((e=>{const t=e.reason;i.vF.warning(t.message,{...t.details},"scrapers")}));return e.filter(s).map((e=>e.value))}));return Object.fromEntries(o)}},8656:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{T:()=>r})},8734:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},8751:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(8581),o=n(1273),i=n(9560),a=n(3807);function s(e,t){return(0,r.N)((function(n,r){var s=new Set;n.subscribe((0,o._)(r,(function(t){var n=e?e(t):t;s.has(n)||(s.add(n),r.next(t))}))),t&&(0,a.Tg)(t).subscribe((0,o._)(r,(function(){return s.clear()}),i.l))}))}},8757:(e,t,n)=>{"use strict";function r(){const e={};return{reportOnce:function(t,n){var r;e[r=t.code]??(e[r]=[]),e[t.code].some((e=>{return t=n,r=e,Object.keys(t).length===Object.keys(r).length&&Object.keys(t).every((e=>t[e]===r[e]));var t,r}))||(gamiteeAnalytics.reportEvent(t),e[t.code].push(n))},reportEvent:e=>{gamiteeAnalytics.reportEvent(e)}}}n.d(t,{A:()=>r})},8779:(e,t,n)=>{"use strict";n.d(t,{UM:()=>o,l1:()=>s});var r=n(9813);function o(e){const t=document.cookie.indexOf(e);if(t<0)return;const n=document.cookie.indexOf(";",t),r=n<0?document.cookie.length:n;return document.cookie.slice(t+e.length+1,r)||void 0}function i(e,t,n,r){return`${e}=${t}; domain=${n}; path=/; max-age=${86400*r}; Secure;`}const a={[r.ANALYTICS_DATA_KEY]:!0,[r.EXPERIMENTS_KEY]:!0,[r.PEGASUS_FEATURE_FLAGS_KEY]:!0};class s{constructor(e,t,n){this.cookieName=e,this.domain=t,this.ttl=n}async getAll(){const e={};return Object.values(r).forEach((t=>{const n=this._getItem(t);n&&(e[t]=n)})),Promise.resolve(e)}async setAll(e){const t=encodeURIComponent(JSON.stringify(e));document.cookie=i(this.cookieName,t,this.domain,this.ttl)}async removeAll(){document.cookie=i(this.cookieName,"",this.domain,0)}_getItem(e){return this._getData()[e]??null}async setItem(e,t){a[e]||this.setAll({...this._getData(),[e]:t})}async removeItem(e){a[e]||this.setAll({...this._getData(),[e]:void 0})}_getData(){const e=o(this.cookieName);if(!e)return{};try{return JSON.parse(decodeURIComponent(e))}catch(e){document.cookie=i(this.cookieName,"",this.domain,0)}return{}}}},8825:(e,t,n)=>{"use strict";n.d(t,{H:()=>w});var r=n(3807),o=n(1668),i=n(8581),a=n(1273);function s(e,t){return void 0===t&&(t=0),(0,i.N)((function(n,r){n.subscribe((0,a._)(r,(function(n){return(0,o.N)(r,e,(function(){return r.next(n)}),t)}),(function(){return(0,o.N)(r,e,(function(){return r.complete()}),t)}),(function(n){return(0,o.N)(r,e,(function(){return r.error(n)}),t)})))}))}function c(e,t){return void 0===t&&(t=0),(0,i.N)((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}var u=n(1220);var d=n(7138),l=n(8656);function f(e,t){if(!e)throw new Error("Iterable cannot be null");return new u.c((function(n){(0,o.N)(n,t,(function(){var r=e[Symbol.asyncIterator]();(0,o.N)(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}var p=n(198),m=n(3303),h=n(4480),g=n(9354),y=n(9664),_=n(7884),v=n(1863);function b(e,t){if(null!=e){if((0,p.l)(e))return function(e,t){return(0,r.Tg)(e).pipe(c(t),s(t))}(e,t);if((0,h.X)(e))return function(e,t){return new u.c((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if((0,m.y)(e))return function(e,t){return(0,r.Tg)(e).pipe(c(t),s(t))}(e,t);if((0,y.T)(e))return f(e,t);if((0,g.x)(e))return function(e,t){return new u.c((function(n){var r;return(0,o.N)(n,t,(function(){r=e[d.l](),(0,o.N)(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return(0,l.T)(null==r?void 0:r.return)&&r.return()}}))}(e,t);if((0,v.U)(e))return function(e,t){return f((0,v.C)(e),t)}(e,t)}throw(0,_.L)(e)}function w(e,t){return t?b(e,t):(0,r.Tg)(e)}},8928:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});var r=n(1635),o=n(3807),i=n(7611),a=n(2186),s=n(8581);function c(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new i.B}:t,r=e.resetOnError,c=void 0===r||r,d=e.resetOnComplete,l=void 0===d||d,f=e.resetOnRefCountZero,p=void 0===f||f;return function(e){var t,r,i,d=0,f=!1,m=!1,h=function(){null==r||r.unsubscribe(),r=void 0},g=function(){h(),t=i=void 0,f=m=!1},y=function(){var e=t;g(),null==e||e.unsubscribe()};return(0,s.N)((function(e,s){d++,m||f||h();var _=i=null!=i?i:n();s.add((function(){0!==--d||m||f||(r=u(y,p))})),_.subscribe(s),!t&&d>0&&(t=new a.Ms({next:function(e){return _.next(e)},error:function(e){m=!0,h(),r=u(g,c,e),_.error(e)},complete:function(){f=!0,h(),r=u(g,l),_.complete()}}),(0,o.Tg)(e).subscribe(t))}))(e)}}function u(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!0!==t){if(!1!==t){var s=new a.Ms({next:function(){s.unsubscribe(),e()}});return(0,o.Tg)(t.apply(void 0,(0,r.fX)([],(0,r.zs)(n)))).subscribe(s)}}else e()}},8955:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(1220),o=n(7722),i=n(4575);function a(e,t,n){void 0===e&&(e=0),void 0===n&&(n=o.b);var a=-1;return null!=t&&((0,i.m)(t)?n=t:a=t),new r.c((function(t){var r,o=(r=e)instanceof Date&&!isNaN(r)?+e-n.now():e;o<0&&(o=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=a?this.schedule(void 0,a):t.complete())}),o)}))}},8964:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=()=>window.matchMedia("(max-width: 550px) and (orientation: portrait), (max-height: 550px) and (orientation: landscape)").matches},9202:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var r=new(n(1220).c)((function(e){return e.complete()}))},9243:(e,t,n)=>{"use strict";n.d(t,{Qh:()=>o,Vi:()=>l,WD:()=>i,XB:()=>d,ct:()=>u,fY:()=>a});var r=n(3845);function o(e){return"[object String]"===Object.prototype.toString.call(e)&&e.length>0}function i(e,t,n){if(e.length>t){const o=e.slice(0,t);return r.vF.warning("String too long, truncating",{name:n,string:e,validString:o},"transactions"),o}return e}function a(e){return"[object Boolean]"===Object.prototype.toString.call(e)}function s(e){return Array.isArray(e)&&e.every(o)}function c(e){return"[object Number]"===Object.prototype.toString.call(e)&&e!==1/0&&e>=0}function u(e){return s(e)||!!e&&"object"==typeof e&&Object.getOwnPropertyNames(e).every((t=>s(e[t])))}function d(e,t,n,r,i,a){const s=[];return function(e){return"prd"===e||"dev"===e}(a)||s.push("'tier' is not valid. Valid values are 'prd' or 'dev'"),function(e){return o(e)&&null!==e.match(/^[a-zA-Z0-9-_]{10,200}$/)}(e)||s.push("'apiKey' is not valid"),function(e,t){return!!o(e)&&("prd"===t?null!==e.match(/^eu|sg|main$/i):null!==e.match(/^[a-zA-z]{1,20}$/i))}(t,a)||s.push("'region' is not valid"),function(e){return o(e)||c(e)}(n)||s.push("'transactionId' is not valid"),c(Number(r))||s.push("'price' is not valid"),function(e){return o(e)&&null!=e.match(/^[a-zA-Z]{3}$/i)}(i)||s.push("'currencyCode' is not valid"),s}function l(e){return"string"==typeof e?e.split(",").map((e=>e.trim())):Array.isArray(e)?e.map((e=>String(e).trim())):"object"==typeof e?(r.vF.info("'productIds' are reported as an object - Falling back to empty array",{productIds:e},"transactions"),[]):[String(e)]}},9246:(e,t,n)=>{"use strict";n.d(t,{n7:()=>c});var r=n(3845),o=n(3745);const i=["AF","AX","AL","DZ","AS","AD","AO","AI","AQ","AG","AR","AM","AW","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BQ","BA","BW","BV","BR","IO","BN","BG","BF","BI","CV","KH","CM","CA","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CD","CK","CR","CI","HR","CU","CW","CY","CZ","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","SZ","ET","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","VA","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","JM","JP","JE","JO","KZ","KE","KI","KP","KR","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","MK","MP","NO","OM","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU","RW","BL","SH","KN","LC","MF","PM","VC","WS","SM","ST","SA","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","ZA","GS","SS","ES","LK","SD","SR","SJ","SE","CH","SY","TW","TJ","TZ","TH","TL","TG","TK","TO","TT","TN","TR","TM","TC","TV","UG","UA","AE","GB","US","UM","UY","UZ","VU","VE","VN","VG","VI","WF","EH","YE","ZM","ZW"],a="Locale code: Invalid code provided (will use default - en-US)",s="Locale code: Invalid region code provided in the locale (will use just the language code)";function c(e){let t=e?.replace("_","-");try{if(!Intl.DateTimeFormat.supportedLocalesOf)return r.vF.warning("Unsupported feature detected",{locale:e,feature:"Intl.DateTimeFormat.supportedLocalesOf"}),o.Zg;if(t=Intl.DateTimeFormat.supportedLocalesOf(t)?.[0],!t)return r.vF.warning(a,{locale:e}),o.Zg;if(5===t.length){const n=t.slice(3);if(!i.includes(n)){const n=t.slice(0,2);return r.vF.warning(s,{providedLocale:e,languageCodeToUse:n}),n}}return r.vF.debug("Locale code:",{providedLocaleCode:e,supportedLocale:t}),t}catch(t){return r.vF.warning(a,{locale:e,errorMesssage:t.message}),o.Zg}}},9265:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i,l:()=>a});var r=n(6455),o=null;function i(e){if(r.$.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,i=n.errorThrown,a=n.error;if(o=null,i)throw a}}else e()}function a(e){r.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},9342:(e,t,n)=>{"use strict";function r(e){return e.toLowerCase().replace("_","-")}function o(e,t){const n=r(e),o=Object.entries(t).find((([e])=>r(e)===n))??Object.entries(t).find((([e])=>r(e)===n.slice(0,2)));return o?.[1]}n.d(t,{$:()=>o})},9354:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7138),o=n(8656);function i(e){return(0,o.T)(null==e?void 0:e[r.l])}},9434:(e,t,n)=>{"use strict";n.d(t,{B7:()=>p,LG:()=>d,N1:()=>_,Oj:()=>g,TT:()=>T,Ub:()=>h,Z0:()=>f,Zn:()=>l,_z:()=>u,al:()=>A,cO:()=>k,em:()=>I,hI:()=>m,hs:()=>S,um:()=>y,wz:()=>x});var r=n(3845),o=n(8116),i=n(1879),a=n(98),s=n(9813),c=n(9578).u;const u=0,d=1e3,l=60*d,f=60*l,p=24*f;function m(e){return e?.split(/\r\n|\r|\n/).length}function h(e,t){return()=>e.dispatchEvent(new c(i.p6.card_clicked,{detail:{viewUrl:t},bubbles:!0,composed:!0}))}function g(e,t){let n=e;var r;return t?.linesNumber&&(n=e.match((r=t.linesNumber,new RegExp(`^(?:.*\\r?\\n){0,${r-1}}.*`)))?.[0]??e),t?.maxCharacters&&(n=n?n.slice(0,t.maxCharacters):n),n}function y(e){return e.replace(/^\n+|\n+$/g,"").replace(/\n{2,}/g,"\n\n")}const _=(e,t)=>{t?t.tripAdvisor?e.displayStats(t.tripAdvisor):(r.vF.warning("unsupported stats type.",{stats:t},"community_stats"),e.displayStats()):e.displayStats()},v={"goods-offering":()=>{},"hotel-offering":e=>e.startDate,"trip-offering":e=>e.trips[0].departTimeMs,"ai-assistant":()=>{}},b=(e,t,n)=>{if(!n)return!1;switch(e?.offeringName){case"hotel-offering":return n<t;case"trip-offering":return n<=t;default:return!1}};function w(e,t){const n=new Date;t&&n.setHours(0,0,0,0);return function(e){const t=new Date(e);return t.getTime()+t.getTimezoneOffset()*l}(e)-n.getTime()}function x(e,t){const n=v[e?.offeringName](e.data),r=n?w(new Date(n),"hotel-offering"===e?.offeringName):void 0;return{isOfferingExpired:b(e,t,r),time:n??void 0}}const E=/[\u04c7-\u0591\u05D0-\u05EA\u05F0-\u05F4\u0600-\u06FF]/;function k(e,t){t?e.style.direction=E.test(t[0])?"rtl":"ltr":e.style.removeProperty("direction")}function S(e,t){t?e.style.textAlign=E.test(t[0])?"end":"start":e.style.removeProperty("text-align")}function T(){return"true"!==a.Z.getItem(s.TERMS_TOOLTIP_SEEN_KEY)}function A(e){return 1===e?(0,i.O1)().oneWay:2===e?(0,i.O1)().roundTrip:(0,i.O1)().multiWay}function I(e){return!!(0,o.dR)(e)?.location}},9512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(7809),o=n(3807),i=n(8581),a=n(1668),s=n(1273);var c=n(8656);function u(e,t,n){return void 0===n&&(n=1/0),(0,c.T)(t)?u((function(n,i){return(0,r.T)((function(e,r){return t(n,e,i,r)}))((0,o.Tg)(e(n,i)))}),n):("number"==typeof t&&(n=t),(0,i.N)((function(t,r){return function(e,t,n,r,i,c,u,d){var l=[],f=0,p=0,m=!1,h=function(){!m||l.length||f||t.complete()},g=function(e){return f<r?y(e):l.push(e)},y=function(e){c&&t.next(e),f++;var d=!1;(0,o.Tg)(n(e,p++)).subscribe((0,s._)(t,(function(e){null==i||i(e),c?g(e):t.next(e)}),(function(){d=!0}),void 0,(function(){if(d)try{f--;for(var e=function(){var e=l.shift();u?(0,a.N)(t,u,(function(){return y(e)})):y(e)};l.length&&f<r;)e();h()}catch(e){t.error(e)}})))};return e.subscribe((0,s._)(t,g,(function(){m=!0,h()}))),function(){null==d||d()}}(t,r,e,n)})))}},9549:(e,t,n)=>{"use strict";n.d(t,{A:()=>U});const r=["constant","attribute","json-attribute","format","regex","number","global","content","angular","json-content","json-parser","data-layer","storage","pipe","object-map","date","hash","calc","array","array-map","element-count","fetch","optional","strip-html","url","decode","find-item","stringify","copy-url-params","insert-url-params","validate","style","currency-code","react-element","element-by-child","element-by-index","elements-array","value","vue-element","reduce","array-length","price-amount","price","images","direct-url","map-to-value","duration"];var o=n(3102);function i(e,t,n=!0){if("string"!=typeof e){if(!n)return!1;throw new o.A("Assert string failed",t,[e])}return!0}function a(e,t,n,r=!0){const i=Array.isArray(n)?n:n.required;if("object"!=typeof e||null==e||i.some((t=>!(t in e)))){if(!r)return!1;throw new o.A("Assert object failed",t,[e])}return!0}function s(e,t,n,r=!0){if(!Array.isArray(e)||!n.extractorsNames.includes(e[0])){if(!r)return!1;throw new o.A("Assert failed",t,[e])}return!0}function c(e,t,n=!0){if(!Array.isArray(e)){if(!n)return!1;throw new o.A("Assert array failed",t,[e])}return!0}function u(e,t,n,r=!0){return e.every((e=>s(e,t,n,r)))}var d=n(3845);function l(e,t){const n=function(e,t){if("document"===t.parentSelector)return document;if(!t.relativeParentType)return e;if("closest"===t.relativeParentType)return e.closest(t.parentSelector)??e;if("nextElementSibling"===t.relativeParentType&&t.parentSelector){let n=e;for(;!n.matches(t.parentSelector)&&n.nextElementSibling;)n=n.nextElementSibling;if(n.matches(t.parentSelector))return n;d.vF.warning("Could not find parent element matching selector",{selector:t.parentSelector,anchor:e},"scrapers")}return e[t.relativeParentType]??e}(e,t);if(!t.selector&&n)return[n];if("string"==typeof t.selector)return Array.from(n.querySelectorAll(t.selector));const r=t.selector,o=r.slice().pop();if(!o||!r.length)return[];const i=r.reduce(((e,t)=>{const n=e?.querySelector(t);return n?.shadowRoot?n.shadowRoot:e}),n instanceof Element&&n.shadowRoot?n.shadowRoot:n);return Array.from(i.querySelectorAll(o))}function f(e,t){return!!function(e){return"object"==typeof e&&null!=e&&!Array.isArray(e)}(e)&&t.required.every((t=>t in e&&null!=e[t]))}var p=n(9342),m=n(9434);function h(e){return Number.parseInt(e,10)||0}function g(e){if(e){const t=e?.toLowerCase();if(["am","pm"].includes(t))return"am"===t?"am":"pm"}return"24-hours"}function y(e,t){const n=String(e),r=Number.parseInt(n,10);if(!Number.isNaN(r))return r;const o=new Intl.DateTimeFormat(t.locale,{month:t.month,timeZone:"UTC"}),i=new Date(0);for(let e=0;e<12;e++){i.setUTCMonth(e);let r=o.format(i);if("short"===t.month&&r.length>3&&(r=r.slice(0,3)),n.toLowerCase()===r.toLowerCase())return e+1}return NaN}function _(e,t){const{year:n,wasYearProvided:r}=function(e){const t=Boolean(e),n=(new Date).getUTCFullYear();let r=t?h(e||"0"):n;return r=r%2e3+2e3,{year:r,wasYearProvided:t}}(e[0]),o=function(e,t){return(h(e)||y(e,{...t,month:"short"})||y(e,{...t,month:"long"}))-1}(e[1],t),i=h(e[2]),a=e[3]?function(e,t){if(!e)return 0;const n=h(e);return isNaN(n)?0:"am"===t?12===n?0:n:"pm"===t?12===n?12:n+12:n}(e[3],t.timeConvention):0,s=h(e[4]||"0"),c=h(e[5]||"0"),u=new Date(Date.UTC(n,o,i,a,s,c));return!r&&u<new Date?Date.UTC(n+1,o,i,a,s,c):Date.UTC(n,o,i,a,s,c)}function v(e,t,n){switch(t){case"dd/MM":{const[,t,r]=e.match(/([0-9]{2})[/]([0-9]{2})/)??[];return _([void 0,r,t],n)}case"dd/MM hh:mm":{const[,t,r,o,i]=e.match(/([0-9]{2})[/]([0-9]{2})[ ]+([0-9]{2}):([0-9]{2})/)??[];return _([void 0,r,t,o,i,void 0],n)}case"dd MMM hh.mm":case"dd MMM hh:mm":{const[,t,r,o,i]=e.match(/([0-9]{2})[ ]+([^\d\s,]{3})[ ]+([0-9]{2})[:.]([0-9]{2})/)??[];return _([void 0,r,t,o,i,void 0],n)}case"M/d/yy":{const[,t,r,o]=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{2})/)??[];return _([o,t,r],n)}case"M/d/yyyy":{const[,t,r,o]=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/)??[];return _([o,t,r],n)}case"MM/dd/yy":{const[,t,r,o]=e.match(/(\d{2})\/(\d{2})\/(\d{2})/)??[];return _([o,t,r],n)}case"MM dd yyyy":case"MM-dd-yyyy":case"MM/dd/yyyy":case"MM.dd.yyyy":case"MMddyyyy":{const[t,r,o,i]=e.match(/(\d{2})[-\s./]?(\d{1,2})[-\s./]?(\d{4})/)??[];return _([i,r,o],n)}case"d/M/yyyy":{const[,t,r,o]=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/)??[];return _([o,r,t],n)}case"d/M/yy":case"dd/MM/yy":case"dd.MM.yy":case"dd MM yy":case"ddMMyy":{const[,t,r,o]=e.match(/(\d{1,2})[/\\. ]?(\d{1,2})[/\\. ]?(\d{2})/)??[];return _([o,r,t],n)}case"dd/MM/yyyy":case"dd.MM.yyyy":case"dd MM yyyy":case"dd-MM-yyyy":case"ddMMyyyy":{const[,t,r,o]=e.match(/(\d{2})[/. -]?(\d{2})[/. -]?(\d{4})/)??[];return _([o,r,t],n)}case"yyyy.MM.dd":case"yyyy/MM/dd":case"yyyy-MM-dd":case"yyyyMMdd":{const[,t,r,o]=e.match(/(\d{4})[-./]?(\d{2})[-./]?(\d{2})/)??[];return _([t,r,o],n)}case"yyyy.MM.dd hh:mm":case"yyyy/MM/dd hh:mm":case"yyyy-MM-dd hh:mm":case"yyyy-MM-dd hhmm":case"yyyyMMdd hh:mm":{const[,t,r,o,i,a]=e.match(/(\d{4})[-./]?(\d{2})[-./]?(\d{2}) (\d{2}):?(\d{2})/)??[];return _([t,r,o,i,a],n)}case"yyyy-M-d":case"yy-M-d":case"yyyy.M.d":{const[,t,r,o]=e.match(/([0-9]{2,4})[-.]([0-9]{1,2})[-.]([0-9]{1,2})/)??[];return _([t,r,o],n)}case"dd MMMM yyyy":case"dd MMMM, yyyy":{const[t,r,o,i]=e.match(/(\d{2}) ([^\d\s,]{1,10}),? (\d{4})/)??[];return _([i,o,r],n)}case"d MMM":{const[t,r,o]=e.match(/(\d{1,2}) +([^\d\s,]{3})/)??[];return _([void 0,o,r],n)}case"MMM dd":case"MMM dd hh:mm":case"MMM dd hh:mm aa":case"MMM dd hh:mmaa":{const[t,r,o,i,a,s]=e.match(/([^\d\s,]{3}) ?(\d{1,2})(?: (\d{2}):(\d{2}) ?(am|AM|pm|PM)?)?/)??[];return _([void 0,r,o,i,a],{...n,timeConvention:g(s)})}case"dd MMMM yyyy hh:mm":case"dd MMMM, yyyy hh:mm":{const[t,r,o,i,a,s]=e.match(/(\d{2}) ([^\d\s,]{1,10}),? (\d{4}) (\d{2}):(\d{2})/)??[];return _([i,o,r,a,s,void 0],n)}case"d MMM yyyy hh:mm":case"dd MMM yyyy hh:mm":case"dd MMM yyyy, hh:mm":case"d MMM yyyy hh.mm":case"dd MMM yyyy hh.mm":case"dd MMM yyyy, hh.mm":{const[t,r,o,i,a,s]=e.match(/(\d{1,2}) ([^\d\s,]{3}) (\d{4}),? (\d{2})[:.](\d{2})/)??[];return _([i,o,r,a,s,void 0],n)}case"d MMM yyyy":case"dd MMM, yyyy":case"dd MMM yyyy":case"dd/MMM/yyyy":case"dd.MMM.yyyy":case"dd-MMM-yyyy":{const[t,r,o,i]=e.match(/(\d{1,2})[-\s./]([^\d\s,]{3}),?[-\s./](\d{4})/)??[];return _([i,o,r],n)}case"MMM dd, yyyy":case"MMM d, yyyy":case"MMM dd, yyyy hh:mm":case"MMM dd, yyyy hh:mmaa":case"MMM dd, yyyy hh:mm aa":case"MMM dd yyyy hh:mmaa":{const[t,r,o,i,a,s,c]=e.match(/([^\d\s,]{3}) (\d{1,2}),? (\d{4})(?: (\d{1,2}):(\d{2}) ?(am|AM|pm|PM)?)?/)??[];return _([i,r,o,a,s],{...n,timeConvention:g(c)})}case"ddMMMyy":{const[t,r,o,i]=e.match(/(\d{1,2})([^\d\s,]{3})(\d{2})/)??[];return _([i,o,r],n)}case"d.MMMM":case"dd.MMMM":case"d. MMMM":case"dd. MMMM":case"d.MMMM hh:mm":case"dd.MMMM hh:mm":case"d. MMMM hh:mm":case"dd. MMMM hh:mm":{const[t,r,o,i,a]=e.match(/(\d{1,2})\.\s?([^\d\s.]{1,10})(?: (\d{1,2}):(\d{2}))?/)??[];return _([void 0,o,r,i,a],n)}case"TT":return function(e){const t=new Date(e);return t.getTime()-t.getTimezoneOffset()*m.Zn}(new Date(Number(e)));default:throw new o.A(`Unsupported format ${t}`,"date")}}function b(e,t){async function n(t,n,r){let a;if((i(n,"date",!1)||function(e,t,n=!0){if("number"!=typeof e){if(!n)return!1;throw new o.A("Assert number failed",t,[e])}return!0}(n,"date",!1))&&(a=n),s(n,"date",e,!1)){const[t,...o]=n,i=e.extractor(t);a=await i.extract(r,...o)}const c=h(a)??0;return t.setDate(t.getDate()+c),t.getTime()}return{extract:async function(e,...r){if(!r[0])return;const i=t.language.language,a=function(e,t){if("string"==typeof t)return t;const n=(0,p.$)(e,t);if(void 0===n&&t.default)return t.default;if("string"==typeof n)return n;throw new o.A(`Default format not found in ${t}`,"date")}(i,r[1]);let s=r[0];if(s instanceof Date&&(s=s.getTime()),"number"==typeof s&&(s=String(s)),"string"!=typeof s)return;const c={locale:i,month:"short",timeConvention:"24-hours"};if(f(r[2],{required:[],optional:["language","days","monthLength"]})&&r[2].days){return n(new Date(v(s,a,c)),r[2].days,e)}return v(s,a,c)}}}function w(){return{extract:async function(e,...t){let n;const[r,o]=t;"string"!=typeof r?[n]=l(e,r):n=function(e,t){const n=t[0];let r=e;(t[2]instanceof Element||t[2]instanceof Document)&&([,,r]=t),"string"==typeof t[2]&&(r=(t[3]?e.closest(t[2]):document.querySelector(t[2]))??r);return r.querySelector(n)}(e,t);let i=n?.textContent?.trim()??"";if(a(o,"content",{required:[],optional:["ignoreSelectors"]},!1)){const e=(o.ignoreSelectors??[]).map((e=>{const t=n.querySelector(e);return t?.textContent?.trim()??""})),t=[];t.push(...e),i=t.reduce(((e,t)=>e.replace(t,"")),i);const{regex:r,regexFlags:a}=o??{};if(r){const e=i.match(new RegExp(r,a));i=e?.[1]??e?.[0]??""}}return i.trim()}}}function x(e,t){return function(e){const t="__DOT__";return e.replace(/\\\./g,t).split(".").map((e=>e.replace(new RegExp(t,"g"),".")))}(t).reduce(((e,t)=>{if("function"==typeof e&&(e=e()),Array.isArray(e)){if(!isNaN(Number(t)))return e?.[t];if(t.includes("[")){if(t.includes("=")){const n=t.slice(t.indexOf("[")+1,t.lastIndexOf("=")),r=t.slice(t.indexOf("=")+1,t.lastIndexOf("]")).replace(/[.,"]/g,"");return e.find((e=>e[n].replace(/[.,"]/g,"")===r))}const n=t.slice(t.indexOf("[")+1,t.lastIndexOf("]"));return e.find((e=>void 0!==e[n]))}return e.find((e=>t in e))?.[t]}return e?.[t]}),e)}var E=n(3706);function k(){return{extract:async function(e,...t){const[n,r]=t;if(!a(r,"hash",{required:["fields"],optional:["lowercase"]}))return"";if(!function(e,t,n=!0){if(!Array.isArray(e)||!e.every((e=>i(e,t,n)))){if(!n)return!1;throw new o.A("Assert string array failed",t,[e])}return!0}(r.fields,"hash"))return"";const s=r.fields.map((e=>{const t=n[e];return void 0===t?"":"object"==typeof t?JSON.stringify(t):String(t)})).join("");return s?(0,E.t)(r.lowercase?s.toLowerCase():s):""}}}var S=n(8613);function T(e){return{extract:async function(t,...n){return function(e,t,n,r=!0){if("object"!=typeof e||null==e||!u(Object.values(e),t,n,r)){if(!r)return!1;throw new o.A("Assert mapper failed",t)}return!0}(n[0],"object-map",e)?(0,S.A)(n[0],e,t):""}}}function A(){return{extract:async function(e,...t){const n=i(t[0],"regex")?t[0]:"",r=i(t[1],"regex")?t[1]:"";if(!r||!n)return"";const o=!!a(t[2],"regex",{optional:["matchAll"],required:[]},!1)&&t[2].matchAll,s=(c=n).startsWith("joyned://")&&"url"===c.replace("joyned://","")?new RegExp([/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)/,/(?:\([-A-Z0-9+&@#/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*/,/(?:\([-A-Z0-9+&@#/%=~_|$?!:,.]*\)|[A-Z0-9+&@#/%=~_|$])/].map((e=>e.source)).join(""),"igm"):new RegExp(c);var c;const u=o?[...r.matchAll(new RegExp(s,"igm"))].map((e=>e[1])):r.match(s)??"";return o?u:u?.[1]??u?.[0]??""}}}var I=n(1090);const C={},M={},O=async e=>{const t=(new TextEncoder).encode(e),n=await window.crypto.subtle.digest("SHA-1",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")};function N(){return{extract:async function(e,...t){if(i(t[0],"stringify",!1))return t[0];if(function(e,t,n=!0){if("boolean"!=typeof e){if(!n)return!1;throw new o.A("Assert boolean failed",t,[e])}return!0}(t[0],"stringify",!1))return t[0].toString();if(a(t[1],"stringify",{required:["mode"],optional:["data"]},!1)){if("join"===t[1].mode)return t[0].filter((e=>e&&""!==e)).join(t[1].data[0]??",")??"";if("date"===t[1].mode)return t[0].toLocaleDateString(t[1].data)}return function(e,t,n=!0){if(!e||Array.isArray(e)||"object"!=typeof e){if(!n)return!1;throw new o.A("Assert object failed",t,[e])}return!0}(t[0],"stringify",!1)?JSON.stringify(t[0]):c(t[0],"stringify")?t[0].toString():""}}}function P(e){const t=e.getAttribute("src");if(t){return new URL(t,location.origin).toString()}const n=getComputedStyle(e);if(n.backgroundImage){const e=/url\("?([^)"]*)/,t=e.exec(n.backgroundImage)?.[1];if(t)return t}}const j={$:"USD","":"ILS","":"EUR","":"GBP",kr:"SEK",z:"PLN","CN":"CNY","":"JGY","":"RUB",A$:"AUD",CA$:"CAD",MX$:"MXN","Kr.":"DKK","":"INR",R$:"BRL",CO$:"COP","":"KRW","":"UAH",zloty:"PLN",NZ$:"NZD",HK$:"HKD"};const R=/\d[\d,.\s-]+/;function D(e){return{extract:async function(t,n){const r=l(t,n)[0];if(!r)return;const o=r?.textContent?.match(R)?.[0].trim();if(!o)return;return function(e,t){const n=new Intl.NumberFormat(t).formatToParts(12345.6),r={};n.forEach((e=>{r[e.type]=e.value}));const o=r.group||",",i=r.decimal||".",a=e.trim().replace(/[ ]/g,"").replaceAll(o,"").replaceAll(i,".");return Number(a)}(o,n?.extraConfig?.overrideFormat??e.language.language)}}}var L=n(8779);function U(e){return{extractor:function(t){switch(t){case"constant":return{extract:async function(e,...t){return i(t[0],"constant")?t[0]:""}};case"attribute":return{extract:async function(e,...t){const n=t[0];i(n,"attribute");const r=t[1]?t[1]:void 0;let o=[e];if(r)if(function(e){return void 0===e.globalAnchor&&void 0===e.lookForClosest}(r))o=l(e,r);else if(r.selector){let t=e;r.globalAnchor&&(t=r.lookForClosest?e.closest(r.globalAnchor)??e:document.querySelector(r.globalAnchor)??e),o=r.many?Array.from(t.querySelectorAll(r.selector)):[t.querySelector(r.selector)]}const a=function(e,t){return e.map((e=>e?.getAttribute(t)??""))}(o,n);return r?.many?a:a[0]}};case"json-attribute":return{extract:async function(e,...t){if(!i(t[0],"json-attribute"))return"";let n=e,r="";t[1]&&a(t[1],"json-attribute",{required:[],optional:["selector","path"]})&&(n=t[1]?.selector?e.querySelector(t[1]?.selector):e,r=t[1]?.path??"");const o=n?.getAttribute(t[0]),s=JSON.parse(o??"{}");return r?s[r]||"":s}};case"format":return{extract:async function(e,...t){if(!i(t[0],"format")||!i(t[1],"format"))return"";let n="{$1}";return a(t[2],"format",["searchRegex"],!1)&&(n=new RegExp(t[2].searchRegex,"g")),t[0].replace(n,t[1])}};case"regex":return A();case"number":return{extract:async function(e,...t){if(!i(t[0],"number"))return"";const n=Number.parseFloat(t[0]);if(Number.isNaN(n))throw new o.A("Not a number","number",t);return n}};case"global":return{extract:async function(e,...t){if(!i(t[0],"global"))return"";"string"==typeof t[1]&&t[0].replace("{$1}",t[1]);const n="string"==typeof t[1]?t[0].replace("{$1}",t[1]):t[0];return x(window,n)}};case"data-layer":return{extract:async function(e,t,n){if(!window.dataLayer)return;const r=t.path.replace("{$1}",n),o=[...window.dataLayer].reverse(),i=t.eventName?o?.find((e=>e.event===t.eventName)):o;return i?x(i,r):void 0}};case"storage":return{extract:async function(e,t,n){let r,i;switch(a(t,"storage",{required:["type","key"],optional:["pathInObject","regexFlags","regex"]}),t.type){case"localStorage":r=localStorage.getItem(t.key);break;case"sessionStorage":r=sessionStorage.getItem(t.key);break;case"cookie":r=(0,L.UM)(t.key);break;default:throw new o.A(`Storage type '${t.type}' is not supported`,"storage")}if(r){if(t.regex){const e=r.match(new RegExp(t.regex,t.regexFlags));return r=e?.[1]??e?.[0]??"",r}if(!t.pathInObject)return r;try{i=JSON.parse(r)}catch(e){return void d.vF.error(new o.A(e,"storage",[t,n]))}return x(i,t.pathInObject&&n?t.pathInObject.replace("{$1}",n):t.pathInObject)}}};case"content":return w();case"json-parser":return{extract:async function(e,...t){if(!i(t[1],"json-parser"))return"";try{const e="string"==typeof t[0]?JSON.parse(t[0]):t[0];return t[1].split(".").reduce(((e,t)=>e[t]),e)}catch(e){return""}}};case"angular":return{extract:async function(e,...t){let n=e;return"string"==typeof t[1]&&(n=e.querySelector(t[1])??e),t[0]?n.__ngContext__:window.angular?.element?.(n)?.scope?.()}};case"hash":return k();case"calc":return r=this,{extract:async function(e,...t){const n=t.slice(1).map((async t=>i(t,"calc",!1)?parseFloat(t):s(t,"calc",r)?r.extractor(t[0]).extract(e,...t.slice(1)):void 0)),[o,a]=await Promise.all(n);switch(t[0]){case"plus":return Number(o)+Number(a);case"minus":return o-a;case"divide":return o/a;case"times":return o*a;default:return 0}}};case"array":return function(e){return{extract:async function(t,...n){if(0===n.length)return d.vF.info("ArrayExtractor: No parameters provided",{ScraperError:o.A},"scrapers"),[];let r=n,i={};const a=n[0],c=n[n.length-1];f(a,{required:[],optional:["ignoreEmptyEntries","stringify"]})?(i=a,r=n.slice(1)):f(c,{required:[],optional:["ignoreEmptyEntries","stringify"]})&&(i=c,r=n.slice(0,-1));const u=await Promise.all(r.map((async n=>s(n,"array",e,!1)?e.extractor(n[0]).extract(t,...n.slice(1)):n))),l=i?.ignoreEmptyEntries?u.filter((e=>null!=e&&""!==e)):u;return void 0!==i?.stringify?l.join(i.stringify):[].concat(...l)}}}(this);case"element-count":return{extract:async function(e,...t){const[n,r]=t;if(!n||!i(n,"element-count"))return"";const o=Array.from(e.querySelectorAll(n));if(r){const e=r?.regex,t=r?.match??!0;if(e)return o.filter((n=>{const r=n.textContent?.match(e);return t?!!r:!r})).length}return o.length}};case"optional":return function(e){return{extract:async function(t,...n){if(!s(n[0],"optional",e))return"";const r=a(n[2],"optional",["shouldAcceptZero"],!1)&&n[2].shouldAcceptZero;try{const i=e.extractor(n[0][0]),s=await i.extract(t,...n[0].slice(1));if(s||0===s&&r){if(a(n[2],"optional",["rejectEmptyArray"],!1)&&n[2].rejectEmptyArray&&Array.isArray(s)&&!s.length)throw new o.A("First extractor result was an empty array","optional",n);return s}}catch(e){}if(s(n[1],"optional",e,!1))try{const i=e.extractor(n[1][0]),a=await i.extract(t,...n[1].slice(1));if(!(a||0===a&&r))throw new o.A("Second extractor had no result","optional",n);return a}catch(e){if(a(n[2],"optional",["throws"],!1)&&n[2].throws)throw e;return}else if(a(n[1],"optional",["throws"],!1)&&n[1].throws)throw new o.A("First extractor had no result","optional",n)}}}(this);case"array-map":return function(e){return{extract:async function(t,...n){const r={ignoreEmptyEntries:!1,useEntriesAsAnchors:!1},o=f(n[2],{required:[],optional:["ignoreEmptyEntries","useEntriesAsAnchors"]})?{...r,...n[2]}:r;if(!s(n[1],"array-map",e))return"";if(!c(n[0],"array-map"))return"";const i=e.extractor(n[1][0]),a=(o.ignoreEmptyEntries?n[0].filter((e=>null!=e)):n[0]).map((e=>{const r=n[1].slice(1),a=r.indexOf("{$1}"),s=-1!==a?Object.assign([],r,{[a]:e}):r,c=o.useEntriesAsAnchors?e:t;return i.extract(c,...s)}));return await Promise.all(a)}}}(this);case"find-item":return function(e){return{extract:async function(t,...n){if(!c(n[0],"find-item"))return"";if(!i(n[1],"find-item"))return"";const r=await(async()=>i(n[2],"find-item",!1)?n[2]:s(n[2],"find-item",e)?e.extractor(n[2][0]).extract(t,...n[2].slice(1)):void 0)();return n[0].find((e=>e[n[1]]===r))??""}}}(this);case"fetch":return function(e){return{extract:async function(t,...n){let r=n[0];if(s(r,"fetch",e,!1)){const n=e.extractor(r[0]);r=await n.extract(t,...r.slice(1))}const o=n[1];if(!i(r,"fetch")||!a(o,"fetch",{required:["method"],optional:["headers","response","body"]}))return;const c=await O(`${r}-${o.method}-${o.body}-${o.response}`);return c in C?C[c]:(c in M||(M[c]=(async()=>{const e=await(0,I.O)((()=>fetch(r,{method:o.method,headers:o.headers,body:o.body})),{backoff:2500,retries:1,source:"Fetch extractor",tag:"scrapers"});switch(o.response){case"json":C[c]=await e.json();break;case"text":C[c]=await e.text();break;case"html":{const t=await e.text(),n=new DOMParser;C[c]=n.parseFromString(t,"text/html");break}case"url":C[c]=e.url}return delete M[c],C[c]})()),M[c])}}}(this);case"pipe":return function(e){return{extract:async function(t,...n){const r=Array.isArray(n[0])?n:n.slice(1),o=Array.isArray(n[0])?void 0:n[0];return u(r,"pipe",e)?r.map((t=>[e.extractor(t[0]),t.slice(1),t[0]])).reduce(((e,[n,r,o])=>e.then((e=>{const i=r.indexOf("{$1}"),a=-1!==i?Object.assign([],r,{[i]:e}):r;return n.extract(t,...a).then((e=>((0,S.Y)(o,"Piping",t,a,e),e)))}))),Promise.resolve(o)):""}}}(this);case"object-map":return T(this);case"insert-url-params":return function(e){return{extract:async function(t,...n){let r;f(n[2],{required:["ignoreUndefined"],optional:[]})&&([,,r]=n);const o=n.slice(0,2).map((async n=>{if(s(n,"insert-url-params",e))return e.extractor(n[0]).extract(t,...n.slice(1))})),[i,a]=await Promise.all(o);let c;try{c=new URL(a)}catch(e){return""}return Object.keys(i).forEach((e=>{void 0===i[e]&&r.ignoreUndefined||c.searchParams.set(e,decodeURIComponent(i[e]))})),c.toString()}}}(this);case"stringify":return N();case"validate":return function(e){return{extract:async function(t,...n){if(!s(n[0],"validate",e)||!a(n[1],"validate",{required:[],optional:["regex","shouldMatch","rejectUndefined"]})||!s(n[2],"validate",e))return"";const r=e.extractor(n[0][0]),o=await r.extract(t,...n[0].slice(1)),i=n[1],{rejectUndefined:c,regex:u,shouldMatch:d}=i;if(c&&void 0===o)return;if(void 0!==i.regex){const e=new RegExp(u),t="string"==typeof o&&e.test(o);if(!(d??1?t:!t))return}const l=e.extractor(n[2][0]);return await l.extract(t,...n[2].slice(1))}}}(this);case"currency-code":return{extract:async function(e,...t){if(!i(t[0],"currency-code",!1))return;const n=t[1];return(n?{...j,...n}:j)[t[0]]??t[0]}};case"map-to-value":return{extract:async function(e,t,n){if(!t)throw new Error("MapToValueExtractor: config is required");if(!n){if(t.default)return t.default;throw new o.A("Param is required","map-to-value")}return t[n]??n}};case"elements-array":return{extract:async function(e,...t){return i(t[0],"elements-array")?Array.from(e.querySelectorAll(t[0])):""}};case"value":return{extract:async function(e,...t){if(!i(t[0],"value"))return"";let n=e;(t[1]instanceof Element||t[1]instanceof Document)&&([,n]=t),"string"==typeof t[1]&&(n=(t[2]?e.closest(t[1]):document.querySelector(t[1]))??n);const r=n.querySelector(t[0]);return r?r.value:""}};case"reduce":return function(e){return{extract:async function(t,...n){const[r,o]=n;if(!s(o,"reduce",e)||!Array.isArray(r))return"";const i=e.extractor(o[0]);return r.reduce((async(e,n)=>{let r;if("pipe"===o[0]){const e=o.slice(1);e[0]=e[0].map((e=>"{$1}"===e?n:e)),r=await i.extract(t,...e)}else r=await i.extract(t,await e,n,...o.slice(1));return r||e}),null)}}}(this);case"date":if(!e)throw new Error("Context not available yet, cannot use date extractor");return b(this,e);case"price-amount":if(!e)throw new Error("Context not available yet, cannot use price-amount extractor");return D(e);case"images":return{extract:async function(e,t){const n=l(e,t),r=[];return t.single?P(n[0])||[]:(n.forEach((e=>{const t=P(e);t&&r.push(t)})),r)}};case"direct-url":return{extract:async function(e,t){if(e===document.body||e===document.documentElement)return window.location.href;const n=t?l(e,t)[0]:e,r=n?.getAttribute("href")??e.getAttribute("href");return r?new URL(r,location.origin).href:""}};case"duration":return n=this,{extract:async function(e,...t){if(!a(t[0],"duration",{required:["hours","minutes"],optional:[""]}))return NaN;const r=await(0,S.A)(t[0],n,e),o=parseInt(String(r.hours),10)||0,i=parseInt(String(r.minutes),10)||0;return o*m.Z0+i*m.Zn}};default:throw new Error(`no extractor is configured for ${t}`)}var n,r},extractorsNames:r}}},9560:(e,t,n)=>{"use strict";function r(){}n.d(t,{l:()=>r})},9578:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,u:()=>r});const r=function(){try{return document.createEvent("CustomEvent").constructor}catch(e){return}}()??window.CustomEvent;function o(){if(!r)return!1;const e="assert-custom-event";let t=!1;const n=document.createElement("div"),o=new r(e,{bubbles:!0,composed:!0});return n.addEventListener(e,(e=>{t=!!e.composed}),{once:!0}),n.dispatchEvent(o),t}},9664:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(8656);function o(e){return Symbol.asyncIterator&&(0,r.T)(null==e?void 0:e[Symbol.asyncIterator])}},9813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ADD_MORE_ITEMS_CLICKED_KEY:()=>ne,ADD_MORE_ITEMS_PLUS_MENU_CLICKED_KEY:()=>re,ADD_MORE_ITEMS_TOOLTIP_CLICKED_KEY:()=>oe,AI_BUTTON_CLICKED:()=>T,AI_LOCATION_KEY:()=>E,AI_MESSAGES_ADDED:()=>A,AI_TOOLTIP_STATE:()=>S,ANALYTICS_DATA_KEY:()=>J,ANALYTICS_DEVICE_ID_KEY:()=>H,AUTH_TOKEN_KEY:()=>i,BANNERS_SEEN_KEY:()=>D,CHANGE_NICKNAME_CLICKED:()=>ee,CHAT_BAR_BUTTON_CLICKED_KEY:()=>ie,COMMENT_PER_POST_SEEN_KEY:()=>R,COMMENT_TOOLTIP_SEEN_KEY:()=>w,COMPONENTS_STATUS_KEY:()=>C,CONTAINER_POSITION_KEY:()=>l,CONTAINER_STATE_KEY:()=>d,DEBUG_API_KEY:()=>K,DEBUG_EXTRACTORS_KEY:()=>$,DEBUG_LANGUAGE_KEY:()=>B,DIGITAL_CONCIERGE_KEY:()=>q,EXPERIMENTS_KEY:()=>U,FF_URL_PERSIST_KEY:()=>W,GAMITEE_TESTER_STORAGE_KEY:()=>Z,IMPRESSION_TEST_KEY:()=>F,INVITEE_WELCOME_SCREEN_SEEN_KEY:()=>f,INVITE_TOOLTIP_SEEN_KEY:()=>_,IS_AI_USAGE_CONSENT_GIVEN:()=>k,LAST_AUTH_KEY:()=>s,LAST_LOG_LEVEL:()=>ae,LAST_VISIT_TIME_KEY:()=>Q,LOCAL_MESSAGES_KEY:()=>I,MINIMIZE_TOOLTIP_SEEN_KEY:()=>x,OVERRIDE_DISABLE_KEY:()=>G,OVERRIDE_EXPERIMENTS_KEY:()=>z,OVERRIDE_HIDE_KEY:()=>Y,PAX_KEY:()=>X,PEGASUS_FEATURE_FLAGS_KEY:()=>L,POST_TOOLTIP_SEEN_KEY:()=>v,READ_MESSAGE_KEY:()=>N,READ_MESSAGE_KEY_OLD:()=>P,REFRESH_TOKEN_KEY:()=>a,SESSION_ID_KEY:()=>c,SESSION_SHARED_KEY:()=>u,SOCIAL_TOAST_CLICKED_KEY:()=>te,SPLIT_PAY_COMING_SOON_REGISTERED:()=>j,TERMS_TOOLTIP_SEEN_KEY:()=>b,TESTER_STORAGE_KEY:()=>V,TOOLTIP_CLOSED_KEY:()=>O,TRENDING_TAB_SEEN_ITEMS:()=>g,TRENDING_TAB_SEEN_LOCATIONS:()=>h,TRENDING_TAB_SEEN_RECOMMENDATIONS:()=>y,USER_ID_KEY:()=>r,USER_MESSAGES_KEY:()=>M,USER_TYPE_KEY:()=>o,WELCOME_LOADER_SEEN_KEY:()=>m,WELCOME_SCREEN_SEEN_KEY:()=>p});const r="joyned::user-id",o="gamitee::USER_TYPE",i="gamitee::pegasus::authentication-token",a="gamitee::pegasus::refresh-token",s="joyned::pegasus::last-auth",c="gamiteeSID",u="joyned::session::is-shared",d="gamitee-container-size",l="gamitee::floater::position",f="joyned::data::invitee-welcome-screen-shown",p="joyned::data::welcomeScreen-shown",m="joyned::data::welcome-loader-seen",h="joyned::data::trending-tab-screen-shown-locations",g="joyned::data::trending-tab-screen-shown-items",y="joyned::data::trending-tab-screen-shown-per-post-recommendations",_="joyned::data::invite-tooltip-seen",v="joyned::data::post-tooltip-seen",b="joyned::data::post-terms-tooltip-seen",w="joyned::data::comment-tooltip-seen",x="joyned::data::minimize-tooltip-seen",E="joyned::data::ai-asked-locations",k="joyned::data::ai-confirmation",S="joyned::data::tooltip-state",T="joyned::data::ai-button-clicked",A="joyned::data::ai-added-message",I="joyned::data::local-messages",C="gamitee::components::status",M="gamitee::user-messages",O="gamitee::tooltip::closed",N="joyned::chat::last-read",P="gamitee-last-viewed-message",j="joyned::split-payment::coming-soon-registered",R="joyned::data::comment-per-post-seen",D="joyned::banners::seen-banners",L="gamitee::pegasus-featureFlags",U="gamitee::experiments",Y="joyned::impression::override-hide",F="joyned::tester::impression-test",B="gamitee::debug::language",K="joyned::debug::api-key",G="joyned::override-disable",$="joyned::debug::specific-extractor-logs",z="joyned::experiments::local-override",W="joyned::experiments::url-persist-override",Z="gamitee::vip",V="joyned::vip",H="joyned::analytics-device-id",J="gamitee-analytics-data",q="joyned::digital-concierge",X="joyned::pax",Q="joyned::visit-time",ee="joyned::change-nickname-clicked",te="joyned::social-toast-clicked",ne="joyned::add-more-items-clicked",re="joyned::add-more-items-plus-menu-clicked",oe="joyned::add-more-items-tooltip-clicked",ie="joyned::add-more-items-tooltip-clicked",ae="joyned::last-log-level"}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);a.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,a.d(o,i),o},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".js",a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="Gamitee:",a.l=(e,t,o,i)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==r+o){s=l;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+o),s.src=e),n[e]=[t];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="https://cdn.joyned.app/4cf0aa666ff4016b68ba9ef454cd5bc99ead314a/",(()=>{a.b=document.baseURI||self.location.href;var e={2910:0,8601:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,c]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)c(a)}for(t&&t(n);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=globalThis.webpackChunkGamitee=globalThis.webpackChunkGamitee||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();(()=>{"use strict";var e=a(5677),t=a(6963),n=a(9578),r=a(4709),o=a(98),i=a(9813),s=a(3845),c=a(3745).__;function u(){const e=c("Gamitee language name");return"Gamitee language name"===e?"und":e}function d(){const e={lang:u(),userAgent:navigator.userAgent,origin:window.location.href},t=function(){const{searchParams:e}=new URL(window.location.href);return o.Z.getItem(i.SESSION_ID_KEY)||e.get(i.SESSION_ID_KEY)}();return null!=t&&(e.sessionId=t),e}function l(){function e(){const e=o.Z.getItem(i.ANALYTICS_DATA_KEY);if(!e)return{};try{return JSON.parse(e)}catch(e){return{}}}function n(){return{...d(),...e()}}return{addExtra:function(t,n){const r="externalId"===t?function(e){if(e.length<=50)return e;const t=e.slice(0,50);return s.vF.warning("Analytics: externalId was too long, truncating.",{value:e,validValue:t}),t}(n):n,a={...e(),[t]:r};o.Z.setItem(i.ANALYTICS_DATA_KEY,a)},getExtras:function(){const e=n();return Object.keys(e).reduce(((t,n)=>[...t,[n,e[n]]]),[])},getExtra:function(e){return n()[e]},getDeviceId:function(){const e=o.Z.getItem(i.ANALYTICS_DEVICE_ID_KEY)??(0,t.A)();return o.Z.setItem(i.ANALYTICS_DEVICE_ID_KEY,e),e}}}var f=a(6763);var p=a(6010),m=a(7931);class h{reportEvent(e,t){s.vF.debug("Analytics event reported",{eventName:e.name,...t})}}var g=a(5462),y=a(6990),_=a(7611),v=a(8825),b=a(2052),w=a(6315),x=a(1635),E=a(8581),k=a(3940),S=a(3549);function T(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,S.lI)(e),r=(0,S.R0)(e,1/0);return(0,E.N)((function(t,o){(0,k.U)(r)((0,v.H)((0,x.fX)([t],(0,x.zs)(e)),n)).subscribe(o)}))}function A(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return T.apply(void 0,(0,x.fX)([],(0,x.zs)(e)))}var I=a(7809),C=a(4246),M=a(5220);function O(t,n,r,a,c=C.zO){const u=new _.B,{adjective:d,avatar:l}=function(e){const t=C.jN[e].adjectives.length,n=C.jN[e].avatars.length,r=Math.floor(Math.random()*t),o=Math.floor(Math.random()*n);return{avatar:C.jN[e].avatars[o],adjective:C.jN[e].adjectives[r]}}(c),p=(0,M.A)(C.jN[c].format).format({adjective:d,avatar:l});async function m(){const e={avatarCollectionName:c,avatar:l};return t.authenticate({isSandboxUser:n,name:p,avatarUrlConfig:e,externalUserInfo:r})}const h=(0,v.H)(async function(){let r;if(r=t.hasUser?await async function(){const e=new URLSearchParams(window.location.search).get(f.jQ.REDIRECT_REF);return t.post("/data/user/visit",!0,{body:{redirectRef:e,isSandbox:n}}).then((e=>e.profile&&(0,C.D_)(e.profile.avatarUrl)?e:{userId:e.userId,featureFlags:e.featureFlags,profile:{avatarUrl:`https://avatars.joyned.app/${l}.svg`,name:p,avatarCollectionName:c,isSandbox:n},imCapabilities:e.imCapabilities,roles:e.roles})).catch((()=>m()))}():await m(),s.vF.addExtraDetails({userId:r.userId}),a?.includes("redirect-flow")){const t={step:"1. get user",userType:o.Z.getItem(i.USER_TYPE_KEY)};gamiteeAnalytics.reportEvent(e.TinkerbellEvents.CodeProfilingDebugEvent({topic:"redirect-flow",details:JSON.stringify(t)}))}if(o.Z.setItem(i.USER_ID_KEY,r.userId),(n&&!1===r.profile.isSandbox||!n&&r.profile.isSandbox)&&(s.vF.warning("Your user type is not suitable for the environment."),s.vF.addExtraDetails({isSandboxUser:n,isProfileSandbox:r?.profile?.isSandbox??"undefined"})),a?.includes("redirect-flow")){const t={step:"2. user environment is suitable",userType:o.Z.getItem(i.USER_TYPE_KEY)};gamiteeAnalytics.reportEvent(e.TinkerbellEvents.CodeProfilingDebugEvent({topic:"redirect-flow",details:JSON.stringify(t)}))}return s.vF.addExtraDetails({userType:o.Z.getItem(i.USER_TYPE_KEY)??"undefined"}),r}()).pipe((0,w.t)(1));return{user$:h.pipe(A(u),(0,I.T)((e=>({userId:e.userId,profile:e.profile,isActive:!0,imCapabilities:e.imCapabilities??[],roles:e.roles}))),(0,w.t)(1)),getUserFeatureFlags:()=>(0,b.s)(h.pipe((0,I.T)((e=>e.featureFlags)))),switchCurrentUser:async function(e){u.next(e)}}}var N=a(9549),P=a(1090),j=a(8198);class R extends j.A{constructor(e,t,n,r){super("Error reporting analytics event",{errorDetails:n,event:e,wasOnline:t,eventMetaData:r},"analytics")}}var D=a(6210),L=a(9246);function U(e,t,n,r){return{x:r?.left||(r?.right?n.width-t.width-r.right:e.x),y:r?.top||(r?.bottom?n.height-t.height-r.bottom:e.y)}}var Y=a(2761),F=a(2910),B=a(5281),K=a(3745).__;const G={desktop:"gmail",tablet:"gmail",mobile:"sms"};function $(e,t,n){const r=(t,n="")=>(0,B.Ay)(t,e,n);return{host:r(n?.host,t?.toUpperCase()),title:r(n?.title,K("You're invited to a booking confirmation session with your friends")),emptyList:{joinText:r(n?.emptyList?.joinText,K("Join me on")),searchText:r(n?.emptyList?.searchText,K("to search for a good option"))},oneOptionStart:r(n?.oneOptionStart,K("I found a good option on")),manyOptionsStart:r(n?.manyOptionsStart,K("I found good options on")),moreDetails:r(n?.moreDetails,K("More details in my favorites list")),shouldShowProducts:n?.shouldShowProducts??!1,shareTemplate:n?.shareTemplate?r(n?.shareTemplate):void 0}}function z(){const{deviceType:e,osType:t}=(0,F.A)(navigator.userAgent);return"ios"===t?t:"desktop"===e?e:"mobile"}function W(e,t,n){const r=[];return n?.forEach((n=>{if("string"==typeof n)return void r.push(n);const o=!n.matchUrl||new RegExp(n.matchUrl).test(window.location.href),i=!!n.blockAgent&&new RegExp(n.blockAgent).test(navigator.userAgent);o&&!i&&r.push({name:n.name,shareTexts:$(e,t,n.shareTexts)})})),r}function Z(e,t,n){const r=["whatsapp","clipboard","messenger","facebook","email","sms","telegram","snapchat"],o={...t,...n&&Object.entries(n).find((([e])=>new RegExp(e).test(location.href)))?.[1]||{}},i={desktop:["whatsapp","gmail","clipboard","messenger","email","telegram","facebook"],mobile:r,ios:r.concat(["imessage"])},a=[];o?.services?Array.isArray(o?.services)?a.push(...W(e.language.language,e.host,o.services)):a.push(...W(e.language.language,e.host,o.services[z()])):a.push(...i[z()]);const{deviceType:s}=(0,F.A)(navigator.userAgent);return{clientShareTexts:$(e.language.language,e.host,o?.clientShareTexts),redirectHost:o?.redirectHost,redirectPath:o?.redirectPath,redirectQueryParams:o?.redirectQueryParams,redirectUrlConfig:o?.redirectUrlConfig,inviteLinkMode:o?.inviteLinkMode,services:a,defaultService:o?.defaultService?.[s]??G[s]}}var V=a(8964);const H=/^n?val\(([A-Za-z]+)(?:, ?([^,]+))?\)/;function J(e,t,n){return Object.entries(e).reduce(((e,[r,o])=>("string"==typeof o&&o.match(H)?e[r]=function(e,t,n){const r=H.exec(e),o=r?.[1];if(!o)throw new Error(`field declaration is not valid ${e}`);let i=t[n];if(!i){const n=Object.values(t)[0];if(!n)return void s.vF.warning('Could not find constants declared in the manifest while manifest contains "val()"',{fieldDeclaration:e},"loader");s.vF.warning("Could not find experiment; using fallback",{fallbackValue:n},"loader"),i=n}const a=i[o]??r?.[2];if(void 0!==a)return e.startsWith("val")?"true"===a||"false"!==a&&a:"number"==typeof a?a:Number.parseFloat(a);s.vF.warning("Variable does not match any constant",{fieldDeclaration:e,dictionaryToSelect:i},"loader")}(o,t,n)??"":Array.isArray(o)?e[r]=o.map((e=>"object"==typeof e?J(e,t,n):e)):e[r]="object"==typeof o?J(o,t,n):o,e)),Array.isArray(e)?[]:{})}function q(e,t){return J(e,e.constants??{},t.experiments.customerConfig?.variation)}function X(e,t){const n=(0,V.A)()?{width:66,height:66}:{width:99,height:99},r="ltr"===t.language.direction?20:window.innerWidth-n.width-20,o=window.innerHeight-2*n.height,i="ltr"===t.language.direction?0:window.innerWidth-500,a=e.colors?.accentColor??Y.Ay.accentColor;return{...e,colors:{primaryColor:e.colors?.primaryColor??Y.Ay.primaryColor,accentColor:a,backgroundImage:e.colors?.backgroundImage??e.colors?.primaryColor??Y.Ay.primaryColor,accentHoverColor:e.colors?.accentHoverColor??a,textOnPrimaryColor:e.colors?.textOnPrimaryColor??Y.Ay.textOnPrimaryColor,inviteButton:{backgroundColor:e.colors?.inviteButton?.backgroundColor??"",foregroundColor:e.colors?.inviteButton?.foregroundColor},votingColor:e.colors?.votingColor??""},share:{...Z(t,e.share,e.shareOverrides),inviteButton:{foregroundColor:e.share?.inviteButton?.foregroundColor,backgroundColor:e.share?.inviteButton?.backgroundColor}},userMessages:{expensiveMessage:e.userMessages?.expensiveMessage??!1},containersLocations:{maximizedLocation:U({x:i,y:32},{width:400,height:729},{width:window.innerWidth,height:window.innerHeight},(0,V.A)()?e.containersBoundaries?.maximizedBoundaries?.mobile:e.containersBoundaries?.maximizedBoundaries?.desktop),minimizedLocation:U({x:r,y:o},n,{width:window.innerWidth,height:window.innerHeight},(0,V.A)()?e.containersBoundaries?.minimizedBoundaries?.mobile:e.containersBoundaries?.minimizedBoundaries?.desktop)}}}var Q=a(2959);var ee=a(3745);class te extends j.A{constructor(e,t){super(e,t,"bouncer_init"),this.errorDetails=this.details?.error?.details?.response||this.details?.error?.details?.error?.error}}class ne{constructor(e,t,n){this.apiKey=e,this.contextUser=t,this.manifestTag=n}_getRedirectRefAsQueryString(){const e=new URLSearchParams(window.location.search).get(f.jQ.REDIRECT_REF)??void 0;return e?`&redirectRef=${e}`:""}_createTesterVipParams(){return this.contextUser.testerType?`&joynedvip=${this.contextUser.testerType}`:""}_filterByBrowser(e,t){if(null==t)return!1;const{browserType:n,osType:r}=(0,F.A)(e);return t.some((t=>{if(this.contextUser.isInvitee&&!t.blockInvitee)return!1;const{browser:o,os:i,userAgent:a}=t;if(a){return new RegExp(a).test(e)}return!(o.toLowerCase()!==n&&"all"!==o.toLowerCase()||i.toLowerCase()!==r&&"all"!==i.toLowerCase())}))}async _checkBouncer(){const e=`https://data.global.main.pegasus.joyned.app/data/bouncer?manifest=${this.manifestTag??"live"}${this._getRedirectRefAsQueryString()}${this._createTesterVipParams()}`,t={"x-joyned-api-key":this.apiKey,"x-joyned-tinkerbell-version":"4cf0aa666ff4016b68ba9ef454cd5bc99ead314a"};try{const n=await fetch(e,{headers:t}),r=await n.json();if(n.ok)return r;throw new te("Bad status code on getting bouncer response",{error:r??"none",getTenantUrl:e,headers:t})}catch(e){throw new te("Error caught while getting bouncer response",{error:e})}}async _getManifest(e,t){const n=`https://data-cdn.${t}/data/manifest?version=${e}`,r={"x-gamitee-api-key":this.apiKey,"x-joyned-tinkerbell-version":"4cf0aa666ff4016b68ba9ef454cd5bc99ead314a"};try{const e=await fetch(n,{headers:r}),t=await e.json();if(e.ok)return t;throw new te("Bad status code on getting manifest",{error:e??"none",getManifestUrl:n,headers:r})}catch(e){throw new te("Error caught while getting manifest",{error:e})}}async checkBouncer(){try{const e=await this._checkBouncer();if(!e)return{isOpen:!1};const{baseUrl:t,manifest:n}=e;this._currentManifest=await this._getManifest(n,t);return{isOpen:!this._filterByBrowser(navigator.userAgent,this._currentManifest.data.product?.blockBrowser),baseUrl:t,logLevel:e.logLevel}}catch(e){return e instanceof te&&e.errorDetails&&["Forbidden","Unauthorized"].includes(e.errorDetails)?s.vF.debug("Bouncer did not allow access",{error:e},"bouncer_init"):s.vF.error(e),{isOpen:!1}}}resolveButtonManifest(){const{data:e,version:t}=this._currentManifest;return{manifestData:e.button,manifestVersion:t}}resolveProductManifest(){const{data:e,version:t}=this._currentManifest;return{manifestData:e.product,manifestVersion:t}}resolveScraper(){const{data:e,version:t}=this._currentManifest;return{manifestData:e.scraper.scrapers,manifestVersion:t,scraperSnippets:e.scraper.scraperSnippets}}resolveTrendingManifest(){const{data:e,version:t}=this._currentManifest;return{manifestData:e.trending,manifestVersion:t}}resolveTooltipManifest(){return{manifestData:this._currentManifest.data.tooltip,manifestVersion:this._currentManifest.version}}resolveCustomerName(){return this._currentManifest.name}}var re=a(8779);async function oe(e){const t=o.Z.getItem(i.DEBUG_LANGUAGE_KEY)||await async function(e){if(e){const t=(0,N.A)(),[n,...r]=e,o=t.extractor(n);if(!o)return;const i=await o.extract(document.documentElement,...r);if("string"==typeof i)return i}}(e)||(0,p.GQ)();return(0,L.n7)(t)}function ie(){const e=localStorage.getItem(i.DEBUG_API_KEY)??(0,p.Ay)().api_key;if(!e)throw new Error(`There is no API key defined for ${window.location.host}`);const t=new URLSearchParams(window.location.search).get("jnd_manifest")??void 0,n=(0,f.Ay)(),r=(0,ee.Ay)(),c=new ne(e,n.user,t);let u,d;async function l(e,t,o){return u||(u=function(e,t){const n={configurable:!1,...t};let r;function o(){return r||(r=e(),r)}return{get value(){return o()},reset(){if(!n.configurable)throw new Error("can not reset lazy promise if it is not defined as a configurable");r=void 0},preheat(){o()}}}((async()=>{const i=(0,Q.A)(t,e);d=(0,f.jb)(i),await r.loadLanguage(o);const a=await d.create(n,r);return a.isInMobileApp=(0,p.v4)(),gamiteeAnalytics.addExtra("experiments",JSON.stringify(a.experiments)),(0,ee.mm)(r),a}))),u.value}return{getBouncerConfiguration:async function(){const t=await c.checkBouncer(),n=t.isOpen&&t.baseUrl?{apiKey:e,accessType:t.accessType,baseUrl:t.baseUrl,logLevel:t.logLevel}:void 0;return{isOpen:t.isOpen,connection:n}},launch:async function(){const t=await this.getBouncerConfiguration();if(!t.isOpen)return;const u=t.connection,f={apiKey:e,baseUrl:u?.baseUrl??"eu.pegasus.joyned.app",accessType:u?.accessType??"live",logLevel:u?.logLevel??D.cm.ERROR};s.vF.setup(f.logLevel);const{manifestData:p,manifestVersion:m}=await c.resolveProductManifest();await o.Z.init(p?.storage);const h=(0,y.A)({apiKey:f.apiKey,pegasusDomain:f.baseUrl},m,p.reportRequestEvent),_=(0,g.A)(h);gamiteeAnalytics.addReporter(function(e){return{reportEvent:async function(t,n){const r=JSON.parse(n.experiments??"{}"),o=Object.keys(r).reduce(((e,t)=>{if(!r[t].variation)return e;const{version:n}=r[t];return{...e,[t]:{version:n||0===n?n:-1,variation:r[t].variation}}}),{}),i={...t,deviceId:n.deviceId?.slice(0,36),language:n.lang,experiments:o,userType:n.userType,externalUserId:n.externalId,sessionId:n.sessionId,extra:{...t.extra,pageUrl:n.pageUrl,redirectRef:n.redirectRef,loadRef:n.loadRef,countryCode:n.countryCode??"",visitEvent:n.visitEvent??"",clickEvent:n.clickEvent??"",containerState:n.containerState,roles:n.roles},origin:window.location?.href||window.origin};try{await(0,P.O)((()=>e.postWithStatusCodeOnly("/analytics/event/tinkerbell",!0,{body:i})),{backoff:500,retries:4,source:"Pegasus Reporter",tag:"analytics",shouldStopRetrying:e=>400===e.details?.status})}catch(e){s.vF.error(new R(t,window.navigator.onLine,{...e.details},n))}}}}(_));const{avatarCollectionName:v}=p;o.Z.setItem(i.LAST_VISIT_TIME_KEY,(new Date).toISOString());const b=await oe(p.locale);if(p.supportedLocales&&!p.supportedLocales.map((e=>e.toLowerCase())).includes(b.toLowerCase()))return void s.vF.info("Locale not supported",{locale:b});if(p.pax&&!o.Z.getItem(i.PAX_KEY)){const e=await async function(e){const t=(0,N.A)(),[n,...r]=e,o=t.extractor(n);if(!o)return;const i=await o.extract(document.documentElement,...r);return"number"==typeof i?i:void 0}(p.pax);"number"==typeof e&&o.Z.setItem(i.PAX_KEY,e.toString())}const w="test"===f.accessType||!!n.user.testerType,x=function(e,t){if(!e.externalUserIdKey)return;const n=(0,re.UM)(e.externalUserIdKey);if(!n)return;return{language:t,externalUserId:n}}(p,b)??{externalUserId:"",language:""},E=O(_,w,x,p.reportDebugEvent,v),k=await l(_,E,b),S=function(e,t){return{resolve:function(n){if("buttons"===n){const{manifestData:n,manifestVersion:r}=t.resolveButtonManifest();return{manifestData:q(n,e),manifestVersion:r}}if("product"===n){const{manifestData:n,manifestVersion:r}=t.resolveProductManifest();return{manifestData:X(q(n,e),e),manifestVersion:r}}if("scraper"===n){const e=t.resolveScraper();if(null==e?.manifestData)return{manifestData:[],manifestVersion:e?.manifestVersion??-1};if(e.scraperSnippets?.length){const t=e.scraperSnippets.reduce(((e,t)=>e.replace(new RegExp(`"${t.key}"`,"g"),JSON.stringify(t.value))),JSON.stringify(e.manifestData));e.manifestData=JSON.parse(t)}return e}if("trending"===n)return t.resolveTrendingManifest();if("tooltip"===n)return t.resolveTooltipManifest();throw new Error("manifest can not be resolved")}}}(k,c);try{(await(0,P.O)((()=>Promise.all([a.e(2356),a.e(5112)]).then(a.bind(a,5112))),{source:"Launcher loading",tag:"import",retries:20,backoff:1e3})).initiate(k,S,f,E,r,d,x)}catch(e){s.vF.error(e,"import")}}}}const ae="polyempty customEvent",se="String replaceAll",ce="Element replaceChildren";function ue(...e){const{childNodes:t}=this;for(;t.length;)t[0].remove();this.append(...e)}function de(n){if(window.gamiteeAnalytics)return void s.vF.info(s.uj.ANALYTICS_ALREADY_LOADED);const r=[];n&&r.push(new h);const o=function(t,n){let r;const o=t;return{setSessionId:function(e){r=e},reportEvent:function(t){const i={timestamp:Date.now(),deviceId:n.getDeviceId()?.slice(0,36)},{experiments:a,userType:c,externalId:u,lang:d,pageUrl:l,loadRef:p,...m}=n.getExtras().reduce(((e,t)=>({...e,[t[0]]:t[1]})),{}),h={experiments:a,lang:d,userType:c,externalId:u,pageUrl:l,...i,...m,sessionId:(0,e.isSessionIdRequired)(t)?r:void 0,redirectRef:new URLSearchParams(window.location.search).get(f.jQ.REDIRECT_REF)??"",loadRef:p},g={code:t.code,extra:t.extra};o.forEach((e=>e.reportEvent(g,h))),s.vF.debug("Analytics event reported",{eventName:t.name,extra:JSON.stringify(g.extra)})},addExtra:function(e,t){n.addExtra(e,t)},addReporter:function(e){o.push(e)}}}(r,l());o.addExtra("pageUrl",window.location.href);const i=(0,t.A)();o.addExtra("loadRef",i);const{"external-id":a}=(0,p.Ay)();a&&"undefined"!==a&&o.addExtra("externalId",a),window.gamiteeAnalytics=o}function le(){const e={setExternalId:function(e){e?gamiteeAnalytics.addExtra("externalId",e):s.vF.warning("externalId is empty",{},"customer_api")},setCountryCode:function(e){gamiteeAnalytics.addExtra("countryCode",e)},setClickEvent:function(e){gamiteeAnalytics.addExtra("clickEvent",e)},sendTransactionEvent:function(e){(0,m.default)(e)},setVisitEvent:function(e){gamiteeAnalytics.addExtra("visitEvent",e)}},{callback:t}=(0,p.Ay)();t&&window[t]?window[t](e):window.joynedCustomerApi=e}!async function(){try{if(window.Gamitee)return void(o.Z.getItem(i.LAST_LOG_LEVEL)&&s.vF.warning(s.uj.ALREADY_LOADED));if(!(n.G()?String.prototype.replaceAll?(Element.prototype.replaceChildren||(s.vF.info(`fixing: ${ce}`),(t=Document.prototype).replaceChildren||(t.replaceChildren=ue),(a=DocumentFragment.prototype).replaceChildren||(a.replaceChildren=ue),(c=Element.prototype).replaceChildren||(c.replaceChildren=ue)),1):(s.vF.warning(s.uj.UNSUPPORTED_BROWSER,{errorReason:se}),0):(s.vF.warning(s.uj.UNSUPPORTED_BROWSER,{errorReason:ae}),0)))return;if("true"===o.Z.getItem(i.OVERRIDE_DISABLE_KEY))return;0,await o.Z.init(),await(0,r.mj)();de((0,r.Ay)()),le();ie().launch()}catch(t){if([s.uj.ALREADY_LOADED,s.uj.UNSUPPORTED_BROWSER].includes(t.message)){const n=new URLSearchParams(window.location.search).get(f.jQ.REDIRECT_REF)??void 0;if(n){const r={message:`${t.message} - ${t.errorReason}`,details:JSON.stringify(t.details??{}),redirectRef:n};window.gamiteeAnalytics.reportEvent(e.TinkerbellEvents.CodeProfilingRedirectLoadAppFailed(r))}return void s.vF.error(t)}if(t.message!==s.uj.ACCESS_DENIED)return Promise.reject(t)}var t,a,c}()})(),Gamitee={}})();
